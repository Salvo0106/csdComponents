!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define("$CSD",[],t):"object"==typeof exports?exports.$CSD=t():e.$CSD=t()}(this,(()=>(()=>{var e={529:(e,t,n)=>{"use strict";n.d(t,{default:()=>Le});var o={};n.r(o),n.d(o,{destroyBtn:()=>J,destroyFab:()=>D,getCheckboxValues:()=>s,getRadioValue:()=>l,initializeAccordion:()=>ge,initializeBtn:()=>Z,initializeCheckbox:()=>r,initializeConfirmDialog:()=>le,initializeCustomSelect:()=>j,initializeDatepickers:()=>V,initializeDropdown:()=>N,initializeEditor:()=>h,initializeFab:()=>k,initializeList:()=>ue,initializeMask:()=>B,initializeMenu:()=>ye,initializeModal:()=>ce,initializeNavigation:()=>se,initializeNumber:()=>O,initializeOTP:()=>H,initializePassword:()=>Q,initializePopover:()=>pe,initializeRadio:()=>d,initializeRange:()=>ae,initializeReorder:()=>T,initializeSearchbar:()=>K,initializeSegment:()=>Ce,initializeSidebar:()=>we,initializeSplitButton:()=>ie,initializeSplitter:()=>fe,initializeStepper:()=>he,initializeSubmenu:()=>De,initializeTab:()=>ve,initializeTextArea:()=>re,initializeToast:()=>de,initializeToggle:()=>G,initializeToggleButton:()=>X,initializeToolbar:()=>Se,showAccordion:()=>be});var a=n(831);function i(e){var t,n=e.closest(".csd-field").find(".csd-checkbox-input"),o=n.find(".csd-checkbox-input:checked"),a={type:"csd_change",action:"change",item:e,targetValue:e.attr("value"),totalItems:n.length,checkedItems:o.length,allChecked:n.length===o.length,allUnchecked:0===o.length,checkedValues:(t=[],o.each((function(){t.push($CSD(this).attr("value"))})),t)};e.trigger(a)}function r(e){var t=$CSD(e),n=t.attr("label")||"",o=t.attr("id")||"checkbox-"+Math.random().toString(36).substr(2,9),a=$CSD('<div class="csd-checkbox-wrapper"></div>'),r=$CSD('<div class="csd-checkbox"></div>'),s=$CSD('<input type="checkbox" class="csd-checkbox-input">').attr("id",o),c=$CSD('<div class="csd-checkbox-box"><ion-icon name="checkmark-sharp"></ion-icon></div>');t.elements[0].checked&&(s.elements[0].checked=!0),t.elements[0].disabled&&(s.elements[0].disabled=!0),t.attr("name")&&s.attr("name",t.attr("name")),t.attr("value")&&s.attr("value",t.attr("value"));var l=t.attr("class");if(l){var d=l.split(" ").filter((function(e){return"csd-checkbox"!==e})).join(" ");d&&s.addClass(d)}for(var u=t.elements[0],f=0;f<u.attributes.length;f++){var p=u.attributes[f];["type","class","id"].includes(p.name)||s.attr(p.name,p.value)}if(r.append(s),r.append(c),a.append(r),n){var h=$CSD('<label class="csd-checkbox-label"></label>').text(n).attr("for",o);a.append(h)}t.replaceWith(a),a.find(".csd-checkbox-label").on("click",(function(e){if(e.preventDefault(),e.stopPropagation(),!a.find(".csd-checkbox-input").prop("disabled")){var t=a.find(".csd-checkbox-input").prop("checked");a.find(".csd-checkbox-input").prop("checked",!t),i(a.find(".csd-checkbox-input"))}})),a.find(".csd-checkbox-box").on("click",(function(e){if(e.preventDefault(),!a.find(".csd-checkbox-input").prop("disabled")){var t=a.find(".csd-checkbox-input").prop("checked");a.find(".csd-checkbox-input").prop("checked",!t),i(a.find(".csd-checkbox-input"))}}))}function s(e){var t=[];return $CSD('.csd-checkbox-wrapper input[name="'.concat(e,'"]')).each((function(){var e=$CSD(this);t.push({value:e.val()||"on",checked:e.elements[0].checked,disabled:e.elements[0].disabled,label:e.closest(".csd-checkbox-wrapper").find(".csd-checkbox-label").text()})})),t}function c(e){var t=e.closest(".csd-field").find(".csd-radio-input"),n=t.find(".csd-radio-input:checked"),o={type:"csd_change",action:"change",item:e,targetValue:e.attr("value"),totalItems:t.length,selectedValue:n.length?n.attr("value"):null,selectedLabel:n.length?n.closest(".csd-radio-wrapper").find(".csd-radio-label").text():null,hasSelection:n.length>0};e.trigger(o)}function l(e){var t=[];return $CSD('.csd-radio-wrapper input[name="'.concat(e,'"]')).each((function(){var e=$CSD(this);t.push({value:e.val()||"on",checked:e.elements[0].checked,disabled:e.elements[0].disabled,label:e.closest(".csd-radio-wrapper").find(".csd-radio-label").text()})})),t}function d(e){var t=$CSD(e),n=t.attr("label")||"",o=t.attr("id")||"radio-"+Math.random().toString(36).substr(2,9),a=$CSD('<div class="csd-radio-wrapper"></div>'),i=$CSD('<div class="csd-radio"></div>'),r=$CSD('<input type="radio" class="csd-radio-input">').attr("id",o),s=$CSD('<div class="csd-radio-box"><div class="csd-radio-dot"></div></div>');t.elements[0].checked&&(r.elements[0].checked=!0),t.elements[0].disabled&&(r.elements[0].disabled=!0),t.attr("name")&&r.attr("name",t.attr("name")),t.attr("value")&&r.attr("value",t.attr("value"));var l=t.attr("class");if(l){var d=l.split(" ").filter((function(e){return"csd-radio"!==e})).join(" ");d&&r.addClass(d)}for(var u=t.elements[0],f=0;f<u.attributes.length;f++){var p=u.attributes[f];["type","class","id"].includes(p.name)||r.attr(p.name,p.value)}if(i.append(r),i.append(s),a.append(i),n){var h=$CSD('<label class="csd-radio-label"></label>').text(n).attr("for",o);a.append(h)}t.replaceWith(a),a.find(".csd-radio-label").on("click",(function(e){e.preventDefault(),e.stopPropagation(),a.find(".csd-radio-input").prop("disabled")||(a.find(".csd-radio-input").prop("checked",!0),c(a.find(".csd-radio-input")))})),a.find(".csd-radio-box").on("click",(function(e){e.preventDefault(),a.find(".csd-radio-input").prop("disabled")||(a.find(".csd-radio-input").prop("checked",!0),c(a.find(".csd-radio-input")))}))}function u(e){return u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},u(e)}function f(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return p(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?p(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var o=0,a=function(){};return{s:a,n:function(){return o>=e.length?{done:!0}:{done:!1,value:e[o++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,r=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return r=e.done,e},e:function(e){s=!0,i=e},f:function(){try{r||null==n.return||n.return()}finally{if(s)throw i}}}}function p(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=Array(t);n<t;n++)o[n]=e[n];return o}function h(e){if(e&&!e.initialized){var t=$CSD(e),n=$CSD('<div class="csd-editor-container"></div>');t.wrap(n);var o=function(){var e=$CSD('<div class="csd-editor-menubar"></div>');return Object.keys(y).forEach((function(t){var n=$CSD('<div class="csd-editor-menu-item">\n                <span>'.concat(t.charAt(0).toUpperCase()+t.slice(1),'</span>\n                <div class="csd-editor-menu-dropdown">\n                    ').concat(y[t].map((function(e){return'\n                        <button type="button" data-action="'.concat(e.action,'">\n                            <i class="').concat(e.icon,'"></i>\n                            ').concat(e.label,"\n                        </button>\n                    ")})).join(""),"\n                </div>\n            </div>"));e.append(n)})),e}(),a=function(){var e=$CSD('<div class="csd-editor-toolbar"></div>');w.forEach((function(t){var n=$CSD('<div class="csd-editor-toolbar-group"></div>');t.forEach((function(e){var t=function(e){var t={undo:{icon:"fa-solid fa-rotate-left",title:"Undo (Ctrl+Z)",shortcut:"Ctrl+Z"},redo:{icon:"fa-solid fa-rotate-right",title:"Redo (Ctrl+Y)",shortcut:"Ctrl+Y"},cut:{icon:"fa-regular fa-scissors",title:"Cut (Ctrl+X)",shortcut:"Ctrl+X"},copy:{icon:"fa-regular fa-copy",title:"Copy (Ctrl+C)",shortcut:"Ctrl+C"},paste:{icon:"fa-regular fa-clipboard",title:"Paste (Ctrl+V)",shortcut:"Ctrl+V"},heading:{icon:"fa-solid fa-heading",title:"Heading",dropdown:!0},bold:{icon:"fa-solid fa-bold",title:"Bold (Ctrl+B)",shortcut:"Ctrl+B"},italic:{icon:"fa-solid fa-italic",title:"Italic (Ctrl+I)",shortcut:"Ctrl+I"},underline:{icon:"fa-solid fa-underline",title:"Underline (Ctrl+U)",shortcut:"Ctrl+U"},strikethrough:{icon:"fa-solid fa-strikethrough",title:"Strikethrough"},font:{icon:"fa-solid fa-font",title:"Font Family",dropdown:!0},fontSize:{icon:"fa-solid fa-text-height",title:"Font Size",dropdown:!0},textColor:{icon:"fa-solid fa-palette",title:"Text Color",dropdown:!0},backgroundColor:{icon:"fa-solid fa-fill",title:"Background Color",dropdown:!0},alignment:{icon:"fa-solid fa-align-justify",title:"Text Alignment",dropdown:!0},numberedList:{icon:"fa-solid fa-list-ol",title:"Numbered List (Ctrl+Shift+7)"},bulletedList:{icon:"fa-solid fa-list-ul",title:"Bulleted List (Ctrl+Shift+8)"},indent:{icon:"fa-solid fa-indent",title:"Increase Indent (Tab)"},outdent:{icon:"fa-solid fa-outdent",title:"Decrease Indent (Shift+Tab)"},link:{icon:"fa-solid fa-link",title:"Insert Link (Ctrl+K)",shortcut:"Ctrl+K"},image:{icon:"fa-regular fa-image",title:"Insert Image"},table:{icon:"fa-solid fa-table",title:"Insert Table"},specialCharacters:{icon:"fa-solid fa-s",title:"Special Characters"},pageBreak:{icon:"fa-solid fa-grip-lines",title:"Insert Page Break"},sourceEditing:{icon:"fa-solid fa-code",title:"Source Editing"}}[e];if(!t)return"";var n=t.title,o=$CSD('\n            <button type="button" class="csd-editor-tool" data-command="'.concat(e,'">\n                <i class="').concat(t.icon,'"></i>\n                ').concat(t.dropdown?'<i class="fa-solid fa-chevron-down"></i>':"",'\n                <span class="csd-editor-tooltip">').concat(n,"</span>\n            </button>\n        "));return o}(e);n.append(t)})),e.append(n)}));var t=function(){var e=$CSD('<div class="csd-editor-toolbar-mobile"></div>'),t=$CSD('<div class="csd-editor-toolbar-mobile-top"></div>'),n=$CSD('<div class="csd-editor-toolbar-group"></div>');n.append('\n            <button class="csd-editor-tool" data-command="undo">\n                <i class="fa-solid fa-rotate-left"></i>\n            </button>\n            <button class="csd-editor-tool" data-command="redo">\n                <i class="fa-solid fa-rotate-right"></i>\n            </button>\n            <button class="csd-editor-tool" data-command="copy">\n                <i class="fa-solid fa-copy"></i>\n            </button>\n            <button class="csd-editor-tool" data-command="paste">\n                <i class="fa-solid fa-paste"></i>\n            </button>\n        ');var o=$CSD('\n            <div class="csd-editor-toolbar-dropdown">\n                <button class="csd-editor-tool">\n                    <i class="fa-solid fa-plus"></i>\n                </button>\n                <div class="csd-editor-toolbar-dropdown-menu">\n                    <button data-command="image"><i class="fa-regular fa-image"></i> Image</button>\n                    <button data-command="link"><i class="fa-solid fa-link"></i> Link</button>\n                </div>\n            </div>\n        ');t.append(n),t.append(o);var a=$CSD('<div class="csd-editor-toolbar-mobile-bottom"></div>'),i=$CSD('<div class="csd-editor-toolbar-group"></div>');i.append('\n            <button class="csd-editor-tool" data-command="bold" style="width: 100%; height: 100%;">\n                <i class="fa-solid fa-bold" style="pointer-events: none;"></i>\n            </button>\n            <button class="csd-editor-tool" data-command="italic" style="width: 100%; height: 100%;">\n                <i class="fa-solid fa-italic" style="pointer-events: none;"></i>\n            </button>\n            <button class="csd-editor-tool" data-command="underline" style="width: 100%; height: 100%;">\n                <i class="fa-solid fa-underline" style="pointer-events: none;"></i>\n            </button>\n            <button class="csd-editor-tool" data-command="textColor" style="width: 100%; height: 100%;">\n                <i class="fa-solid fa-palette" style="pointer-events: none;"></i>\n            </button>\n        ');var r=$CSD('\n            <div class="csd-editor-toolbar-dropdown">\n                <button class="csd-editor-tool" style="width: 100%; height: 100%;">\n                    <i class="fa-solid fa-align-left" style="pointer-events: none;"></i>\n                </button>\n                <div class="csd-editor-toolbar-dropdown-menu">\n                    <button data-command="justifyLeft" style="width: 100%;"><i class="fa-solid fa-align-left" style="pointer-events: none;"></i></button>\n                    <button data-command="justifyCenter" style="width: 100%;"><i class="fa-solid fa-align-center" style="pointer-events: none;"></i></button>\n                    <button data-command="justifyRight" style="width: 100%;"><i class="fa-solid fa-align-right" style="pointer-events: none;"></i></button>\n                </div>\n            </div>\n        '),s=$CSD('\n            <div class="csd-editor-toolbar-dropdown">\n                <button class="csd-editor-tool" style="width: 100%; height: 100%;">\n                    <i class="fa-solid fa-text-height" style="pointer-events: none;"></i>\n                </button>\n                <div class="csd-editor-toolbar-dropdown-menu">\n                    <button data-command="fontSize" data-value="1" style="width: 100%;">Small</button>\n                    <button data-command="fontSize" data-value="3" style="width: 100%;">Normal</button>\n                    <button data-command="fontSize" data-value="5" style="width: 100%;">Large</button>\n                    <button data-command="fontSize" data-value="7" style="width: 100%;">Huge</button>\n                </div>\n            </div>\n        '),c=$CSD('\n            <div class="csd-editor-toolbar-dropdown">\n                <button class="csd-editor-tool" style="width: 100%; height: 100%;">\n                    <i class="fa-solid fa-ellipsis" style="pointer-events: none;"></i>\n                </button>\n                <div class="csd-editor-toolbar-dropdown-menu">\n                    <button data-command="strikethrough" style="width: 100%;"><i class="fa-solid fa-strikethrough" style="pointer-events: none;"></i> Strikethrough</button>\n                    <button data-command="subscript" style="width: 100%;"><i class="fa-solid fa-subscript" style="pointer-events: none;"></i> Subscript</button>\n                    <button data-command="superscript" style="width: 100%;"><i class="fa-solid fa-superscript" style="pointer-events: none;"></i> Superscript</button>\n                    <button data-command="indent" style="width: 100%;"><i class="fa-solid fa-indent" style="pointer-events: none;"></i> Indent</button>\n                    <button data-command="outdent" style="width: 100%;"><i class="fa-solid fa-outdent" style="pointer-events: none;"></i> Outdent</button>\n                </div>\n            </div>\n        ');return a.append(i),a.append(r),a.append(s),a.append(c),e.append(t),e.append(a),e}();return $CSD('<div class="csd-editor-toolbars"></div>').append(e).append(t)}(),i=$CSD('<div class="csd-editor-content" contenteditable="true"></div>');i.attr("placeholder",t.attr("placeholder")||"");var r=$CSD('\n            <div class="csd-editor-statusbar">\n                <div class="csd-editor-wordcount">Words: 0</div>\n                <div class="csd-editor-charcount">Characters: 0</div>\n            </div>\n        ');t.before(o),t.before(a),t.before(i),t.after(r),t.hide(),i.html(t.val()),function(e){var t,n=e.closest(".csd-editor-container"),o=n.find(".csd-editor-toolbar-mobile").find(".csd-editor-toolbar-mobile-bottom"),a=n.find(".csd-editor-toolbar-mobile-top"),i=!1;function r(){if("undefined"!=typeof window){var e=window.visualViewport;if(!e)return;var t=Math.max(0,window.innerHeight-e.height),r=window.visualViewport.offsetTop||0;if(document.documentElement.style.setProperty("--keyboard-height","".concat(t,"px")),t>0){n.addClass("keyboard-open"),o.addClass("keyboard-open");var s=n.find(".csd-editor-toolbar-mobile-top");o.css({position:"fixed",bottom:"".concat(t,"px"),transform:"translateY(".concat(r,"px)"),zIndex:1050}),s.css({position:"fixed",top:0,left:0,right:0,transform:"translateY(".concat(r,"px)"),zIndex:1050})}else i||(n.removeClass("keyboard-open"),o.removeClass("keyboard-open"),o.css({position:"fixed",bottom:0,transform:"none",zIndex:1050}),a.css({position:"fixed",top:0,left:0,right:0,transform:"none",zIndex:1050}))}}"undefined"!=typeof window&&window.visualViewport&&(window.visualViewport.addEventListener("resize",r),window.visualViewport.addEventListener("scroll",(function(){a.css("opacity","0"),a.css("pointer-events","none"),o.css("opacity","0"),o.css("pointer-events","none"),t&&clearTimeout(t),t=setTimeout((function(){a.css("opacity","1"),a.css("pointer-events","auto"),o.css("opacity","1"),o.css("pointer-events","auto"),r()}),150)}))),o.on("mousedown touchstart",".csd-editor-tool",(function(e){i=!0,e.preventDefault()})),o.on("mouseup touchend",".csd-editor-tool",(function(){setTimeout((function(){i=!1,e.focus()}),100)})),e.on("focus",(function(){r();var t=e[0].getBoundingClientRect();if("undefined"!=typeof window){var n=window.visualViewport?window.visualViewport.height:window.innerHeight;t.bottom>n&&window.scrollTo({top:window.pageYOffset+(t.bottom-n)+100,behavior:"smooth"})}})),e.on("blur",(function(e){i||$CSD(e.target).closest(".csd-color-picker").length?e.preventDefault():(document.documentElement.style.setProperty("--keyboard-height","0px"),n.removeClass("keyboard-open"),o.removeClass("keyboard-open"),o.css({position:"fixed",bottom:0,transform:"none",opacity:"1",pointerEvents:"auto"}))})),r()}(i),function(e,t){var n=e.closest(".csd-editor-container");e.on("input",(function(){t.val(e.html()),t.trigger("change"),b(n)})),n.on("click",".csd-editor-tool",(function(t){t.preventDefault();$CSD(this).data("tool");v(this,e)})),n.on("click",".csd-editor-menu-item button",(function(t){t.preventDefault(),function(e,t){switch(e){case"new":confirm("Create new document? All changes will be lost.")&&t.html("");break;case"open":var n=document.createElement("input");n.type="file",n.accept=".txt,.html,.md",n.onchange=function(e){var n=e.target.files[0];if(n){var o=new FileReader;o.onload=function(e){t.html(e.target.result)},o.readAsText(n)}},n.click();break;case"save":var o=t.html();if("undefined"!=typeof window){var a=new Blob([o],{type:"text/html"}),i=window.URL.createObjectURL(a),r=document.createElement("a");r.href=i,r.download="document.html",r.click(),window.URL.revokeObjectURL(i)}break;case"export-pdf":alert("PDF export functionality requires a PDF generation library. Please implement based on your needs.");break;case"export-word":var s=t.html();if("undefined"!=typeof window){var c=new Blob([s],{type:"application/msword"}),l=window.URL.createObjectURL(c),d=document.createElement("a");d.href=l,d.download="document.doc",d.click(),window.URL.revokeObjectURL(l)}}}($CSD(this).data("action"),e)})),b(n),e.on("paste",(function(e){e.preventDefault();var t=e.originalEvent.clipboardData||("undefined"!=typeof window?window.clipboardData:null),n=t?t.getData("text/html")||t.getData("text"):"",o=document.createElement("div");o.innerHTML=n;var a,i=f(o.getElementsByTagName("*"));try{for(i.s();!(a=i.n()).done;){for(var r=a.value,s=["font-weight","font-style","text-decoration","text-align"],c=r.style,l=c.length-1;l>=0;l--){var d=c[l];s.includes(d)||c.removeProperty(d)}r.removeAttribute("class"),r.removeAttribute("id")}}catch(e){i.e(e)}finally{i.f()}document.execCommand("insertHTML",!1,o.innerHTML)}))}(i,t),a.find(".csd-editor-toolbar-dropdown > button").on("touchend",(function(e){e.preventDefault(),e.stopPropagation();var t=$CSD(this).closest(".csd-editor-toolbar-dropdown");t.toggleClass("active"),a.find(".csd-editor-toolbar-dropdown.active").not(t).removeClass("active")})),$CSD(document).on("touchend",(function(e){$CSD(e.target).closest(".csd-editor-toolbar-dropdown").length||a.find(".csd-editor-toolbar-dropdown.active").removeClass("active")})),a.find(".csd-editor-toolbar-dropdown-menu button").on("touchend",(function(e){e.preventDefault(),e.stopPropagation();var t=$CSD(this).data("command"),n=$CSD(this).data("value");t&&(v({command:t,value:n},i),$CSD(this).closest(".csd-editor-toolbar-dropdown").removeClass("active"),t.startsWith("justify")&&$CSD(this).closest(".csd-editor-toolbar-dropdown").find("button i").attr("class",$CSD(this).find("i").attr("class")))})),a.find(".csd-editor-tool").on("touchend",(function(e){var n,o;e.preventDefault(),e.stopPropagation(),n=e.target,o=$CSD(n).data("command"),$CSD(n).data("value"),o&&(t[0].focus({preventScroll:!0}),v(n,i),["bold","italic","underline"].includes(o)&&$CSD(n).toggleClass("active"))})),i.on("selectionchange",(function(){!function(e){["bold","italic","underline"].forEach((function(t){var n=document.queryCommandState(t);e.find('[data-command="'.concat(t,'"]')).toggleClass("active",n)}))}(a)})),function(e){function t(){var t=e.html();if(t){var n=t.split(/\n|<br\/?>/).map((function(e){return(e=e.trim()).match(/^#\s/)?"<h1>".concat(e.replace(/^#\s/,""),"</h1>"):e.match(/^##\s/)?"<h2>".concat(e.replace(/^##\s/,""),"</h2>"):e.match(/^###\s/)?"<h3>".concat(e.replace(/^###\s/,""),"</h3>"):e.match(/^[\*\-]\s/)?"<ul><li>".concat(e.replace(/^[\*\-]\s/,""),"</li></ul>"):e.match(/^1\.\s/)?"<ol><li>".concat(e.replace(/^1\.\s/,""),"</li></ol>"):e.match(/^>\s/)?"<blockquote>".concat(e.replace(/^>\s/,""),"</blockquote>"):e.match(/^```/)?"<pre><code>":(e=(e=(e=(e=e.replace(/\*\*([^\*]+)\*\*/g,"<strong>$1</strong>")).replace(/\*([^\*]+)\*/g,"<em>$1</em>")).replace(/`([^`]+)`/g,"<code>$1</code>")).replace(/\[([^\]]+)\]\(([^\)]+)\)/g,'<a href="$2">$1</a>'))?"<p>".concat(e,"</p>"):"<p><br></p>"}));e.html(n.join(""))}}t(),e.on("keydown",(function(e){if("Enter"===e.key){if("undefined"==typeof window)return;if("undefined"==typeof window)return;var t=window.getSelection();if(!t||!t.rangeCount)return;var n=t.anchorNode.textContent;if(n&&n.match(/^#\s/))e.preventDefault(),document.execCommand("formatBlock",!1,"h1"),document.execCommand("delete",!1),document.execCommand("delete",!1);else if(n.match(/^##\s/))e.preventDefault(),document.execCommand("formatBlock",!1,"h2"),document.execCommand("delete",!1),document.execCommand("delete",!1),document.execCommand("delete",!1);else if(n.match(/^###\s/))e.preventDefault(),document.execCommand("formatBlock",!1,"h3"),document.execCommand("delete",!1),document.execCommand("delete",!1),document.execCommand("delete",!1),document.execCommand("delete",!1);else if(n.match(/^[\*\-]\s/))e.preventDefault(),document.execCommand("insertUnorderedList",!1),document.execCommand("delete",!1),document.execCommand("delete",!1);else if(n.match(/^1\.\s/))e.preventDefault(),document.execCommand("insertOrderedList",!1),document.execCommand("delete",!1),document.execCommand("delete",!1),document.execCommand("delete",!1);else if(n.match(/^>\s/))e.preventDefault(),document.execCommand("formatBlock",!1,"blockquote"),document.execCommand("delete",!1),document.execCommand("delete",!1);else if(n.match(/^```/)){e.preventDefault(),document.execCommand("formatBlock",!1,"pre");var o=t.anchorNode.parentElement;if("PRE"===o.tagName){var a=document.createElement("code");o.appendChild(a);var i=document.createRange();i.setStart(a,0),t.removeAllRanges(),t.addRange(i)}document.execCommand("delete",!1),document.execCommand("delete",!1),document.execCommand("delete",!1)}}else if(e.ctrlKey)switch(e.key.toLowerCase()){case"b":e.preventDefault(),document.execCommand("bold",!1);break;case"i":e.preventDefault(),document.execCommand("italic",!1);break;case"u":e.preventDefault(),document.execCommand("underline",!1)}else if("Tab"===e.key)e.preventDefault(),document.execCommand(e.shiftKey?"outdent":"indent",!1);else if(" "===e.key){if("undefined"==typeof window)return;var r=window.getSelection();if(!r)return;var s=r.anchorNode,c=r.anchorOffset;if(s&&s.textContent&&s.textContent.match(/\*\*([^\*]+)\*\*$/))e.preventDefault(),C(r,s.textContent.match(/\*\*([^\*]+)\*\*$/)[1],c,"**",document.execCommand.bind(document,"bold",!1));else if(line.match(/\*([^\*]+)\*$/)){e.preventDefault(),C(r,line.match(/\*([^\*]+)\*$/)[1],c,"*",document.execCommand.bind(document,"italic",!1))}else if(line.match(/`([^`]+)`$/)){e.preventDefault(),C(r,line.match(/`([^`]+)`$/)[1],c,"`",(function(){document.execCommand("fontName",!1,"monospace")}))}else if(line.match(/\[([^\]]+)\]\(([^\)]+)\)$/)){e.preventDefault();var l=line.match(/\[([^\]]+)\]\(([^\)]+)\)$/),d=(l[1],l[2]),u=document.createRange();u.setStart(r.anchorNode,c-l[0].length),u.setEnd(r.anchorNode,c),r.removeAllRanges(),r.addRange(u),document.execCommand("createLink",!1,d),document.execCommand("insertText",!1," ")}}}))}(i),e.initialized=!0}}function v(e,t){if(e){t.focus();var n,o="string"==typeof e?e:e&&"object"===u(e)&&e.dataset?e.dataset.command:e&&"object"===u(e)?e.command:null,a="string"==typeof e?null:e&&"object"===u(e)&&e.dataset?e.dataset.value:e&&"object"===u(e)?e.value:null;if(o)switch(o){case"undo":case"redo":case"bold":case"italic":case"underline":case"strikethrough":case"justifyLeft":case"justifyCenter":case"justifyRight":case"justifyFull":document.execCommand(o,!1);break;case"heading":m(t,[{text:"Heading 1",command:"formatBlock",value:"h1"},{text:"Heading 2",command:"formatBlock",value:"h2"},{text:"Heading 3",command:"formatBlock",value:"h3"},{text:"Paragraph",command:"formatBlock",value:"p"}]);break;case"formatBlock":if("undefined"!=typeof window){window.getSelection().getRangeAt(0);document.execCommand(o,!1,a)}break;case"font":m(t,[{text:"Arial",command:"fontName",value:"Arial"},{text:"Times New Roman",command:"fontName",value:"Times New Roman"},{text:"Courier New",command:"fontName",value:"Courier New"},{text:"Georgia",command:"fontName",value:"Georgia"}]);break;case"fontName":document.execCommand(o,!1,a);break;case"fontSize":null===a?m(t,[{text:"Small",command:"fontSize",value:"1"},{text:"Normal",command:"fontSize",value:"3"},{text:"Large",command:"fontSize",value:"5"},{text:"Huge",command:"fontSize",value:"7"}]):document.execCommand(o,!1,a);break;case"textColor":g("color",e);break;case"backgroundColor":g("backgroundColor",e);break;case"alignment":m(t,[{text:"Left",icon:"fa-solid fa-align-left",command:"justifyLeft"},{text:"Center",icon:"fa-solid fa-align-center",command:"justifyCenter"},{text:"Right",icon:"fa-solid fa-align-right",command:"justifyRight"},{text:"Justify",icon:"fa-solid fa-align-justify",command:"justifyFull"}]);break;case"numberedList":document.execCommand("insertOrderedList",!1);break;case"bulletedList":document.execCommand("insertUnorderedList",!1);break;case"indent":document.execCommand("indent",!1);break;case"outdent":document.execCommand("outdent",!1);break;case"link":!function(e){var t,n=window.getSelection(),o=e.elements[0],a="";n.rangeCount>0&&(a=(t=n.getRangeAt(0)).toString(),o.contains(t.commonAncestorContainer)||(t=null));if(!t){if(t=document.createRange(),document.activeElement===o&&n.focusNode)if(n.focusNode.nodeType===Node.TEXT_NODE)t.setStart(n.focusNode,n.focusOffset),t.setEnd(n.focusNode,n.focusOffset);else{for(var i,r=document.createTreeWalker(o,NodeFilter.SHOW_TEXT,null,!1),s=null,c=1/0;i=r.nextNode();){var l=document.createRange();l.selectNode(i);var d=l.getBoundingClientRect(),u=Math.abs(d.top-n.focusNode.getBoundingClientRect().top);u<c&&(c=u,s=i)}if(s)t.setStart(s,s.length),t.setEnd(s,s.length);else{var f=document.createTextNode("");o.appendChild(f),t.setStart(f,0),t.setEnd(f,0)}}else{var p=o.lastChild;if(!p||"BR"===p.nodeName){var h=document.createTextNode("");o.appendChild(h),p=h}t.selectNode(p),t.collapse(!1)}n.removeAllRanges(),n.addRange(t)}var v=$CSD('\n          <div class="csd-editor-link-popover">\n              <div class="link-form">\n                  <div class="csd-field">\n                      <label class="csd-label">URL:</label>\n                      <input type="text" class="csd-input link-url" placeholder="https://" value="">\n                  </div>\n                  <div class="csd-field">\n                      <label class="csd-label">Testo:</label>\n                      <input type="text" class="csd-input link-text" value="'.concat(a,'">\n                  </div>\n                  <div class="form-buttons">\n                      <button type="button" class="csd-btn btn-insert">Inserisci</button>\n                      <button type="button" class="csd-btn btn-cancel">Annulla</button>\n                  </div>\n              </div>\n          </div>\n      ')),m=t.getBoundingClientRect();if(0===m.top&&0===m.left&&0===m.width&&0===m.height){var g=t.getClientRects();m=g.length>0?g[0]:o.getBoundingClientRect()}var b=window.pageYOffset||document.documentElement.scrollTop,C=window.pageXOffset||document.documentElement.scrollLeft;v.css({position:"absolute",top:m.bottom+b+"px",left:m.left+C+"px"}),$CSD("body").append(v),v.on("mousedown",(function(e){["INPUT","TEXTAREA"].includes(e.target.tagName)||e.preventDefault(),e.stopPropagation()})),v.find(".btn-cancel").on("click",(function(){v.remove()})),v.find(".btn-insert").on("click",(function(){var e=v.find(".link-url").val(),o=v.find(".link-text").val();if(e){var a=document.createElement("a");a.href=e,a.textContent=o||e,a.title=e,a.style.cursor="pointer",a.addEventListener("dblclick",(function(e){e.preventDefault(),"undefined"!=typeof window&&window.open(this.href,"_blank")})),t.deleteContents(),t.insertNode(a);var i=document.createTextNode(" ");a.nextSibling?a.parentNode.insertBefore(i,a.nextSibling):a.parentNode.appendChild(i);var r=document.createRange();r.setStartAfter(i),r.collapse(!0),n.removeAllRanges(),n.addRange(r)}v.remove()})),v.find(".link-url").focus();var y=function(e){v.elements[0].contains(e.target)||(v.remove(),$CSD(document).off("mousedown",y))};setTimeout((function(){$CSD(document).on("mousedown",y)}),100)}(t);break;case"image":(n=document.createElement("input")).type="file",n.accept="image/*",n.onchange=function(){var e=this.files[0];if(e){var t=new FileReader;t.onload=function(e){var t=document.createElement("img");t.src=e.target.result,t.style.maxWidth="100%",t.style.position="relative",t.style.cursor="default",t.className="csd-resizable-image";var n=["top-left","top-right","bottom-left","bottom-right"],o=document.createElement("div");function a(){d=!1,u=null,document.body.style.userSelect="",o.classList.remove("resizing")}o.style.cssText="\n      position: relative;\n      display: inline-block;\n      margin: 5px;\n    ",n.forEach((function(e){var t=document.createElement("div");switch(t.className="resize-corner ".concat(e),t.style.cssText="\n        position: absolute;\n        width: 12px;\n        height: 12px;\n        background: white;\n        border: 2px solid #007bff;\n        border-radius: 50%;\n        cursor: ew-resize;\n        opacity: 0;\n        transition: opacity 0.2s ease;\n        z-index: 1000;\n      ",e){case"top-left":t.style.top="-6px",t.style.left="-6px";break;case"top-right":t.style.top="-6px",t.style.right="-6px";break;case"bottom-left":t.style.bottom="-6px",t.style.left="-6px";break;case"bottom-right":t.style.bottom="-6px",t.style.right="-6px"}o.appendChild(t)})),o.addEventListener("mouseenter",(function(){o.querySelectorAll(".resize-corner").forEach((function(e){e.style.opacity="1"}))})),o.addEventListener("mouseleave",(function(){d||o.querySelectorAll(".resize-corner").forEach((function(e){e.style.opacity="0"}))})),o.addEventListener("mousedown",(function(){o.querySelectorAll(".resize-corner").forEach((function(e){e.style.opacity="1"}))})),o.appendChild(t),o.querySelectorAll(".resize-corner").forEach((function(e){e.addEventListener("mousedown",f),e.addEventListener("touchstart",f)})),t.addEventListener("mousedown",f);var i=window.getSelection(),r=i.getRangeAt(0);r.deleteContents(),r.insertNode(o);var s=document.createTextNode(" ");o.parentNode.insertBefore(s,o.nextSibling);var c,l,d=!1,u=null;function f(e){d=!0,c=e.type.includes("mouse")?e.pageX:e.touches[0].pageX,l=t.offsetWidth,e.preventDefault(),document.body.style.userSelect="none",o.classList.add("resizing")}function p(e){if(d){var n,a=(e.type.includes("mouse")?e.pageX:e.touches[0].pageX)-c;n=u&&(u.classList.contains("top-left")||u.classList.contains("bottom-left"))?l-a:l+a,n=Math.max(50,Math.min(n,o.parentNode.offsetWidth)),t.style.width=n+"px",e.preventDefault()}}function a(){d=!1,u=null,document.body.style.userSelect="",o.classList.remove("resizing")}t.addEventListener("mousedown",f),document.addEventListener("mousemove",p),document.addEventListener("mouseup",a),t.addEventListener("touchstart",f),document.addEventListener("touchmove",p),document.addEventListener("touchend",a);var h=function(){document.removeEventListener("mousemove",p),document.removeEventListener("mouseup",a),document.removeEventListener("touchmove",p),document.removeEventListener("touchend",a)},v=new MutationObserver((function(e){e.forEach((function(e){e.removedNodes.forEach((function(e){e===o&&(h(),v.disconnect())}))}))}));v.observe(o.parentNode,{childList:!0});var m=document.createRange();m.setStartAfter(s),m.collapse(!0),i.removeAllRanges(),i.addRange(m)},t.readAsDataURL(e)}},n.click();break;case"table":!function(e){for(var t=8,n=8,o=0,a=0,i='<div class="table-grid">',r=0;r<t;r++){i+='<div class="table-row">';for(var s=0;s<n;s++)i+='<div class="table-cell" data-row="'.concat(r,'" data-col="').concat(s,'"></div>');i+="</div>"}i+="</div>",i+='<div class="table-size">0 x 0</div>';var c=$CSD('\n          <div class="csd-editor-table-picker">\n              '.concat(i,"\n          </div>\n      "));function l(e,t){o=e+1,a=t+1,c.find(".table-size").text("".concat(o," x ").concat(a)),c.find(".table-cell").each((function(){var n=$CSD(this),o=parseInt(n.data("row")),a=parseInt(n.data("col"));o<=e&&a<=t?n.addClass("selected"):n.removeClass("selected")}))}var d=$CSD(event.target).closest(".csd-editor-tool").elements[0].getBoundingClientRect(),u=window.pageYOffset||document.documentElement.scrollTop,f=window.pageXOffset||document.documentElement.scrollLeft;c.css({position:"absolute",top:d.bottom+u+"px",left:d.left+f+"px"}),$CSD("body").append(c),c.on("mouseover",".table-cell",(function(e){l(parseInt($CSD(this).data("row")),parseInt($CSD(this).data("col")))})),c.find(".table-grid").on("mouseleave",(function(){o>0&&a>0&&l(o-1,a-1)})),c.on("click",".table-cell",(function(){o>0&&a>0&&(!function(e,t,n){for(var o="<table><tbody>",a=0;a<t;a++){o+="<tr>";for(var i=0;i<n;i++)o+="<td><br></td>";o+="</tr>"}o+="</tbody></table>";var r=e.elements[0];if("undefined"==typeof window)return;var s,c=window.getSelection();c.rangeCount>0&&(s=c.getRangeAt(0),r.contains(s.commonAncestorContainer)||(s=null));if(!s){if(s=document.createRange(),document.activeElement===r&&c.focusNode)if(c.focusNode.nodeType===Node.TEXT_NODE)s.setStart(c.focusNode,c.focusOffset),s.setEnd(c.focusNode,c.focusOffset);else{for(var l,d=document.createTreeWalker(r,NodeFilter.SHOW_TEXT,null,!1),u=null,f=1/0;l=d.nextNode();){var p=document.createRange();p.selectNode(l);var h=p.getBoundingClientRect(),v=Math.abs(h.top-c.focusNode.getBoundingClientRect().top);v<f&&(f=v,u=l)}if(u)s.setStart(u,u.length),s.setEnd(u,u.length);else{var m=document.createTextNode("");r.appendChild(m),s.setStart(m,0),s.setEnd(m,0)}}else{var g=r.lastChild;if(!g||"BR"===g.nodeName){var b=document.createTextNode("");r.appendChild(b),g=b}s.selectNode(g),s.collapse(!1)}c.removeAllRanges(),c.addRange(s)}var C=document.createElement("table");C.innerHTML=o,s.deleteContents(),s.insertNode(C);var y=document.createElement("p");y.innerHTML="<br>",C.parentNode.insertBefore(y,C.nextSibling);var w=document.createRange();w.setStartAfter(y),w.collapse(!0),c.removeAllRanges(),c.addRange(w)}(e,o,a),c.remove())})),c.on("mousedown",(function(e){e.stopPropagation()}));var p=function(e){c.elements[0].contains(e.target)||(c.remove(),$CSD(document).off("mousedown",p))};setTimeout((function(){$CSD(document).on("mousedown",p)}),100)}(t);break;case"specialCharacters":!function(){var e=["€","£","$","¥","¢","₽","₹","±","×","÷","≠","≈","≤","≥","∞","∑","∏","√","∫","∂","∆","¼","½","¾","⅓","⅔","⅕","⅖","⅗","⅘","←","→","↑","↓","↔","↕","⇐","⇒","⇑","⇓","©","®","™","§","¶","†","‡","•","·","…","‰","′","″","À","Á","È","É","Ì","Í","Ò","Ó","Ù","Ú","à","á","è","é","ì","í","ò","ó","ù","ú"],t=$CSD('<div class="csd-editor-special-chars"></div>'),n=$CSD('\n            <div class="special-chars-grid">\n                '.concat(e.map((function(e){return'\n                    <button type="button" class="special-char-item" title="'.concat(e,'">').concat(e,"</button>\n                ")})).join(""),"\n            </div>\n        "));t.append(n),t.css({position:"absolute",background:"#fff",border:"1px solid #ddd",borderRadius:"4px",padding:"10px",boxShadow:"0 2px 8px rgba(0,0,0,0.15)",zIndex:1e3,maxHeight:"400px",overflowY:"auto",width:"400px"}),t.find(".special-chars-grid").css({display:"grid",gridTemplateColumns:"repeat(10, 1fr)",gap:"5px"}),t.find(".special-char-item").css({width:"30px",height:"30px",border:"1px solid #ddd",borderRadius:"4px",background:"#fff",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"16px",transition:"all 0.2s"});var o=$CSD(event.target).closest(".csd-editor-tool")[0].getBoundingClientRect(),a=window.pageYOffset||document.documentElement.scrollTop,i=window.pageXOffset||document.documentElement.scrollLeft;t.css({top:o.bottom+a+5+"px",left:o.left+i+"px"}),$CSD("body").append(t),t.find(".special-char-item").hover((function(){$(this).css({background:"#f5f5f5",borderColor:"#999"})}),(function(){$(this).css({background:"#fff",borderColor:"#ddd"})})),t.on("click",".special-char-item",(function(e){e.stopPropagation();var n=$CSD(this).text().trim();document.execCommand("insertText",!1,n),t.remove()})),setTimeout((function(){$CSD(document).one("mousedown",(function(e){t[0].contains(e.target)||t.remove()}))}),0)}();break;case"pageBreak":document.execCommand("insertHTML",!1,'<hr class="page-break">');break;case"sourceEditing":!function(e){var t=e.closest(".csd-editor-container");if(t.hasClass("source-mode")){var n=e.text();e.html(n),t.removeClass("source-mode")}else{var o=e.html();e.text(o),t.addClass("source-mode")}}(t);break;case"paste":t.elements[0].addEventListener("paste",(function(e){if(e.preventDefault(),"undefined"!=typeof window){var t,n=e.clipboardData||window.clipboardData;if(n.types.includes("text/html")){t=n.getData("text/html");var o=document.createElement("div");o.innerHTML=t;var a=function(e){if(1===e.nodeType){var t=["href","src","alt"];if(Array.from(e.attributes).forEach((function(n){t.includes(n.name)||e.removeAttribute(n.name)})),e.style.length>0){var n=["font-weight","font-style","text-decoration","text-align"];Array.from(e.style).forEach((function(t){n.includes(t)||e.style.removeProperty(t)}))}Array.from(e.children).forEach(a)}};a(o),t=o.innerHTML}else t=(t=n.getData("text/plain")).replace(/\n/g,"<br>");if("undefined"!=typeof window){var i=window.getSelection();if(i.rangeCount){var r=i.getRangeAt(0);r.deleteContents();var s=document.createDocumentFragment(),c=document.createElement("div");for(c.innerHTML=t;c.firstChild;)s.appendChild(c.firstChild);r.insertNode(s),r.collapse(!1),i.removeAllRanges(),i.addRange(r)}}}}));break;default:o&&document.execCommand(o,!1,a||null)}}}function m(e,t){var n=$CSD('<div class="csd-editor-dropdown"></div>');t.forEach((function(e){var t=$CSD('\n                <button type="button" class="csd-editor-dropdown-item csd-editor-tool" data-command="'.concat(e.command||"",'" data-value="').concat(e.value||"",'">\n                    ').concat(e.icon?'<i class="'.concat(e.icon,'"></i>'):"","\n                    <span>").concat(e.text,"</span>\n                </button>\n            "));n.append(t)}));var o=$CSD(event.target).closest(".csd-editor-tool")[0].getBoundingClientRect(),a=window.pageYOffset||document.documentElement.scrollTop,i=window.pageXOffset||document.documentElement.scrollLeft;n.css({position:"absolute",top:o.bottom+a+"px",left:o.left+i+"px"}),$CSD("body").append(n),n.on("click",".csd-editor-dropdown-item",(function(t){t.preventDefault(),t.stopPropagation();this.dataset.command,this.dataset.value;v(this,e),n.remove()})),n.on("mousedown",(function(e){e.preventDefault(),e.stopPropagation()})),setTimeout((function(){$CSD(document).on("mousedown",(function(e){n[0].contains(e.target)||(n.remove(),$CSD(document).off("mousedown"))}))}),0)}function g(e,t){if($CSD(t).attr("data-color-picker"))return $CSD(t).removeAttr("data-color-picker"),void $CSD(".csd-editor-container").css("padding-bottom","0");var n;event.preventDefault(),event.stopPropagation();var o=!1,a=$CSD(event.target).closest(".csd-editor-tool"),i=a.closest(".csd-editor-toolbar-mobile-bottom");if(i.length){var r=function(){var e,t,n,o=c,a=l,i=d,r=(1-Math.abs(2*i/100-1))*a/100,u=r*(1-Math.abs(o/60%2-1)),f=i/100-r/2;o<60?(e=r,t=u,n=0):o<120?(e=u,t=r,n=0):o<180?(e=0,t=r,n=u):o<240?(e=0,t=u,n=r):o<300?(e=u,t=0,n=r):(e=r,t=0,n=u);var p=function(e){var t=Math.round(255*(e+f)).toString(16);return 1===t.length?"0"+t:t},h="#"+p(e)+p(t)+p(n);return s.find(".color-area").css("background","linear-gradient(to right, #fff, hsl(".concat(c,", 100%, 50%))")),h},s=$CSD('\n          <div class="csd-color-picker" style="position: absolute; bottom: 100%; left: 0; right: 0; background: #fff; padding: 4px 8px 0; box-shadow: 0 -2px 5px rgba(0,0,0,0.1); z-index: 1000;">\n            <div class="color-area" style="width: 100%; height: 150px; position: relative; background: linear-gradient(to right, #fff, #f00);">\n              <div style="position: absolute; top: 0; left: 0; right: 0; bottom: 0; background: linear-gradient(to bottom, transparent, #000);"></div>\n              <div class="color-pointer" style="position: absolute; width: 10px; height: 10px; border: 2px solid #fff; border-radius: 50%; transform: translate(-50%, -50%);"></div>\n            </div>\n            <div class="hue-slider" style="width: 100%; height: 20px; margin: 6px 0 2px; background: linear-gradient(to right, #f00, #ff0, #0f0, #0ff, #00f, #f0f, #f00); position: relative;">\n              <div class="hue-handle" style="position: absolute; top: 0; width: 5px; height: 100%; background: #fff; border: 1px solid #000; transform: translateX(-50%);"></div>\n            </div>\n          </div>\n        '),c=0,l=100,d=50;$CSD(".csd-editor-container").css("padding-bottom","var(--keyboard-height)");var u="color-picker-"+Math.random().toString(36).substring(2,9);s.attr("data-id",u),$CSD(t).attr("data-color-picker",u),i.append(s),"undefined"!=typeof window&&window.scrollBy({top:scrollNeeded,behavior:"smooth"});var f=s.find(".color-area"),p=s.find(".color-pointer");f.on("touchstart",(function(t){t.preventDefault(),t.stopPropagation();var a=this.getBoundingClientRect();function i(t){t.stopPropagation();var i=t.touches[0],s=Math.max(0,Math.min(i.clientX-a.left,a.width)),c=Math.max(0,Math.min(i.clientY-a.top,a.height));l=s/a.width*100,d=100-c/a.height*100,p.css({left:s+"px",top:c+"px"});var u=r(),f=window.getSelection().getRangeAt(0);f.collapsed?(n||(n=document.createElement("span")),"color"==e?n.style.color=u:"background"==e&&(n.style.backgroundColor=u),n.innerHTML="​",f.insertNode(n),f.setStartAfter(n)):(n||(n=document.createElement("span")),"color"==e?n.style.color=u:"background"==e&&(n.style.backgroundColor=u),o||(f.surroundContents(n),o=!0))}$CSD(document).on("touchmove",i),$CSD(document).on("touchend touchcancel",(function e(){$CSD(document).off("touchmove",i),$CSD(document).off("touchend touchcancel",e)})),i(t)}));var h=s.find(".hue-slider"),v=s.find(".hue-handle");h.on("touchstart",(function(t){t.preventDefault(),t.stopPropagation();var a=this.getBoundingClientRect();function i(t){t.stopPropagation();var i=t.touches[0],s=Math.max(0,Math.min(i.clientX-a.left,a.width));c=s/a.width*360,v.css("left",s+"px");var l=r(),d=window.getSelection().getRangeAt(0);d.collapsed?(n||(n=document.createElement("span")),"color"==e?n.style.color=l:"background"==e&&(n.style.backgroundColor=l),n.innerHTML="​",d.insertNode(n),d.setStartAfter(n)):(n||(n=document.createElement("span")),"color"==e?n.style.color=l:"background"==e&&(n.style.backgroundColor=l),o||(d.surroundContents(n),o=!0))}$CSD(document).on("touchmove",i),$CSD(document).on("touchend touchcancel",(function e(){$CSD(document).off("touchmove",i),$CSD(document).off("touchend touchcancel",e)})),i(t)})),r(),p.css({left:"100%",top:"0%"}),v.css("left","0"),setTimeout((function(){$CSD(document).one("touchstart",(function(e){s[0].contains(e.target)||($CSD(".csd-editor-container").css("padding-bottom","0"),s.remove())}))}),0)}else{var m=$CSD('\n          <div class="csd-editor-color-picker">\n            <div class="color-grid">\n              '.concat(["#000000","#FF0000","#00FF00","#0000FF","#FFFF00","#FF00FF","#00FFFF","#FFFFFF","#808080","#800000","#008000","#000080","#808000","#800080","#008080","#C0C0C0"].map((function(e){return'\n                <button type="button" class="color-item" style="background-color: '.concat(e,'" data-color="').concat(e,'"></button>\n              ')})).join(""),"\n            </div>\n          </div>\n        ")),g=a[0].getBoundingClientRect(),b=window.pageYOffset||document.documentElement.scrollTop,C=window.pageXOffset||document.documentElement.scrollLeft;m.css({position:"absolute",top:g.bottom+b+"px",left:g.left+C+"px"}),$CSD("body").append(m),m.on("click",".color-item",(function(){var t=$CSD(this).data("color"),a=window.getSelection().getRangeAt(0);a.collapsed?(n||(n=document.createElement("span")),"color"==e?n.style.color=t:"background"==e&&(n.style.backgroundColor=t),n.innerHTML="​",a.insertNode(n),a.setStartAfter(n)):(n||(n=document.createElement("span")),"color"==e?n.style.color=t:"background"==e&&(n.style.backgroundColor=t),o||(a.surroundContents(n),o=!0))})),setTimeout((function(){$CSD(document).on("click",(function(e){var t=$CSD(e.target);t.closest(".csd-editor-color-picker").length&&t.closest(".csd-color-picker").length||m.remove()}))}),0)}}function b(e){var t=e.find(".csd-editor-content").text(),n=t.trim().split(/\s+/).length,o=t.length;e.find(".csd-editor-wordcount").text("Words: ".concat(n)),e.find(".csd-editor-charcount").text("Characters: ".concat(o))}function C(e,t,n,o,a){var i=document.createRange();i.setStart(e.anchorNode,n-(t.length+2*o.length)),i.setEnd(e.anchorNode,n),e.removeAllRanges(),e.addRange(i),a(),document.execCommand("insertText",!1,t+" ")}"undefined"!=typeof window&&(window.getCheckboxValues=s),"undefined"!=typeof window&&(window.getRadioValue=l);var y={file:[{label:"New Document",icon:"fa-regular fa-file",action:"new"},{label:"Open...",icon:"fa-regular fa-folder-open",action:"open"},{label:"Save",icon:"fa-regular fa-floppy-disk",action:"save"},{label:"Export as PDF",icon:"fa-regular fa-file-pdf",action:"export-pdf"},{label:"Export as Word",icon:"fa-regular fa-file-word",action:"export-word"}],edit:[{label:"Undo",icon:"fa-solid fa-rotate-left",action:"undo"},{label:"Redo",icon:"fa-solid fa-rotate-right",action:"redo"},{label:"Cut",icon:"fa-regular fa-scissors",action:"cut"},{label:"Copy",icon:"fa-regular fa-copy",action:"copy"},{label:"Paste",icon:"fa-regular fa-clipboard",action:"paste"}],insert:[{label:"Image",icon:"fa-regular fa-image",action:"image"},{label:"Table",icon:"fa-solid fa-table",action:"table"},{label:"Link",icon:"fa-solid fa-link",action:"link"},{label:"Special Character",icon:"fa-solid fa-s",action:"special-char"},{label:"Page Break",icon:"fa-solid fa-grip-lines",action:"page-break"}],format:[{label:"Bold",icon:"fa-solid fa-bold",action:"bold"},{label:"Italic",icon:"fa-solid fa-italic",action:"italic"},{label:"Underline",icon:"fa-solid fa-underline",action:"underline"},{label:"Strikethrough",icon:"fa-solid fa-strikethrough",action:"strikethrough"}]},w=[["undo","redo"],["cut","copy","paste"],["heading"],["bold","italic","underline","strikethrough"],["font","fontSize"],["textColor","backgroundColor"],["alignment"],["numberedList","bulletedList"],["indent","outdent"],["link","image","table"],["specialCharacters","pageBreak"],["sourceEditing"]];var S=new Set;function D(e){if(e){var t=$CSD(e);if(t.attr("data-csd-fab-initialized")){e.csdFab&&e.csdFab.destroy&&e.csdFab.destroy(),S.delete(e);var n=t.find(".csd-fab-button").first(),o=t.find(".csd-fab-list");if(n.length){var a=n.clone(!1,!0);n.replaceWith(a)}o.find(".csd-fab-button").each((function(){var e=$CSD(this),t=e.clone(!1,!0);e.replaceWith(t)})),t.removeClass("open"),o.find(".csd-fab-button").css({transform:"",transition:"","transition-delay":"",cursor:""}),delete e.csdFab,delete e.initialized,t.removeAttr("data-csd-fab-initialized")}}}function k(e){if(e){var t=$CSD(e);if(t.attr("data-csd-fab-initialized")&&D(e),!e.initialized){var n=t.find(".csd-fab-button").first(),o=t.find(".csd-fab-list"),a=o.length>0,i=!1;if(n.on("click",(function(e){e.preventDefault(),e.stopPropagation(),a&&(i?c():s())})),a){o.find(".csd-fab-button").on("click",(function(e){e.preventDefault(),e.stopPropagation(),c()}));var r=function(e){$CSD(e.target).closest(".csd-fab").length||S.forEach((function(e){e.csdFab&&e.csdFab.close()}))};$CSD(document).on("click",r),o.each((function(){$CSD(this).find(".csd-fab-button").css({transform:"translate(0, 0)",transition:"all 0.3s","transition-delay":"0s"})})),t.find(".csd-fab-button").css("cursor","pointer"),e.csdFab={open:s,close:c,destroy:function(){n.off(),o.find(".csd-fab-button").off(),$CSD(document).off("click",r),S.delete(e),e.initialized=!1}}}return e.initialized=!0,t.attr("data-csd-fab-initialized","true"),e.csdFab}}function s(){a&&!i&&(S.forEach((function(t){t!==e&&t.csdFab&&t.csdFab.close()})),i=!0,t.addClass("open"),S.add(e),o.each((function(){var e,t,n,o,a,i;e=$CSD(this),t=e.data("type")||"linear",n=e.data("direction")||"top",o=e.find(".csd-fab-button"),a=o.length,i=70,o.each((function(e,o){var r=0,s=0;switch(t){case"linear":switch(n){case"top":s=-42*(o+1);break;case"bottom":s=42*(o+1);break;case"left":r=-42*(o+1);break;case"right":r=42*(o+1)}break;case"circle":var c=(360/a*o-90)*(Math.PI/180);r=Math.cos(c)*i,s=Math.sin(c)*i;break;case"semi-circle":var l=(180/(a-1)*o-180)*(Math.PI/180);r=Math.cos(l)*i,s=Math.sin(l)*i;break;case"quarter-circle":var d=90/(a-1)*o*(Math.PI/180);switch(n){case"top-left":r=-Math.cos(d)*i,s=-Math.sin(d)*i;break;case"top-right":r=Math.sin(d)*i,s=-Math.cos(d)*i;break;case"bottom-left":r=-Math.sin(d)*i,s=Math.cos(d)*i;break;case"bottom-right":r=Math.cos(d)*i,s=Math.sin(d)*i}}$CSD(this).css({transform:"translate(".concat(r,"px, ").concat(s,"px)"),"transition-delay":"".concat(.05*o,"s")})}))})))}function c(){a&&i&&(i=!1,o.find(".csd-fab-button").css({"transition-delay":"0s",transform:"translate(0, 0)"}),t.removeClass("open"),S.delete(e))}}function x(e){return x="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},x(e)}function E(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function A(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?E(Object(n),!0).forEach((function(t){L(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):E(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function L(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=x(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var o=n.call(e,t||"default");if("object"!=x(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==x(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function T(){document.querySelectorAll(".csd-reorder-group").forEach((function(e){var t={handle:".handle",draggable:".csd-reorder",ghostClass:"csd-reorder-ghost",dragClass:"csd-reorder-drag",animation:150,touchStartThreshold:0,supportPointer:!0,fallbackTolerance:0,delayOnTouchOnly:!0,delay:100,preventScroll:!0,forceFallback:!1,onStart:function(t){t.item.style.touchAction="none",e.classList.add("reordering"),document.body.style.overflow="hidden"},onEnd:function(t){t.item.style.touchAction="",e.classList.remove("reordering"),document.body.style.overflow=""},onMove:function(e){return e.preventDefault&&e.preventDefault(),!0}};new a.Sortable(e,t),e.querySelectorAll(".csd-group-item").forEach((function(e){new a.Sortable(e,A(A({},t),{},{onStart:function(t){t.item.style.touchAction="none",e.classList.add("reordering"),document.body.style.overflow="hidden"},onEnd:function(t){t.item.style.touchAction="",e.classList.remove("reordering"),document.body.style.overflow=""}}))}))}))}function N(e){if(e){var t=$CSD(e),n=t.find(".csd-dropdown-toggle"),o=t.find(".csd-dropdown-menu, .csd-mega-menu");if(n.length&&o.length){var a=o.hasClass("csd-mega-menu");n.on("click",(function(i){if((i.preventDefault(),i.stopPropagation(),$CSD(".csd-dropdown-menu.show, .csd-mega-menu.show").each((function(){var e=$CSD(this);e.is(o)||e.removeClass("show").closest(".csd-dropdown").find(".csd-dropdown-toggle").removeClass("active")})),o.toggleClass("show"),n.toggleClass("active"),a)&&t.closest(".csd-menubar").length){var r=e.getBoundingClientRect(),s=o[0].getBoundingClientRect(),c="undefined"!=typeof window?window.innerWidth:1024,l=Math.max(0,r.left-(s.width-r.width)/2),d=l+s.width>c?c-s.width:l;o.css("left","".concat(-d,"px"))}})),o.on("click",(function(e){e.stopPropagation()}))}}}function M(){$CSD(".csd-dropdown-menu.show, .csd-mega-menu.show").each((function(){$CSD(this).removeClass("show").closest(".csd-dropdown").find(".csd-dropdown-toggle").removeClass("active")}))}function O(e){var t=$CSD(e),n=t.val.bind(t);t.val=function(e){if(0===arguments.length){var o=t.data("rawValue");return o?v(o,t).replace(",","."):v(n(),t).replace(",",".")}if(""!==e){var a=p(t,e.toString().replace(".",","));t.data("rawValue",a);var i=h(t,a);return n(i)}return t.data("rawValue",""),n("")};var o=$CSD('\n      <div class="csd-input-arrows">\n        <button type="button" class="csd-arrow-btn up"><ion-icon name="chevron-up-outline"></ion-icon></button>\n        <button type="button" class="csd-arrow-btn down"><ion-icon name="chevron-down-outline"></ion-icon></button>\n      </div>\n    ');function a(e){return e.attr("currency")||""}function i(e){return void 0!==e.attr("decimal")?parseInt(e.attr("decimal")):0}function r(e){return e.attr("step")?e.attr("step"):1}function s(e){return void 0!==e.attr("min")?parseFloat(e.attr("min")):null}function c(e){return void 0!==e.attr("max")?parseFloat(e.attr("max")):null}function l(e){return e.attr("decimal-separator")||","}function d(e){return e.attr("prefix")||""}function u(e){return e.attr("suffix")||""}function f(e){return e.prop("disabled")||e.prop("readonly")}function p(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(!t&&0!==t)return h(e,"");var o="string"==typeof t?parseFloat(v(t,e).replace(",",".")):t;if(isNaN(o))return h(e,"");var a=s(e),r=c(e);if(null!==a&&o<a)return p(e,a,n);if(null!==r&&o>r)return p(e,r,n);if(!n)return h(e,t.toString().replace(".",","));var l=i(e);return h(e,o.toFixed(l).replace(".",","))}function h(e,t){var n=d(e),o=u(e),i=a(e),r="";return n&&(r+="".concat(n," ")),i&&(r+="".concat(i," ")),r+=v(t,e),o&&(r+=" ".concat(o)),r.trim()}function v(e,t){if(!e)return"";var n=a(t),o=d(t),i=u(t),r=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),s=o.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),c=i.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),l=new RegExp("\\s*".concat(c,"$")),f=new RegExp("^".concat(s,"\\s*")),p=new RegExp("^".concat(r,"\\s*"));return e=(e=(e=e.replace(f,"").trim()).replace(p,"").trim()).replace(l,"").trim()}function m(e,t){var n;if(!f(t)){var o=t.elements[0].selectionStart,r=parseFloat(v((null===(n=t.data("rawValue"))||void 0===n?void 0:n.toString().replace(",","."))||"0",t))||0;r+=parseFloat(e);var l=s(t),h=c(t);null!==l&&r<l&&(r=l),null!==h&&r>h&&(r=h);var m=r.toFixed(i(t));t.data("rawValue",m),t.val(p(t,m,!0)),t.trigger({type:"change",internal:!0});var g=1,b=d(t)?d(t).length+2:0,C=a(t)?a(t).length+2:0,y=u(t)?u(t).length-2:0;b>0&&C>0&&y>0?g=b+C-1:b>0&&C>0?g=b+C:b>0&&y>0?g=b:C>0&&y>0?g=C:b>0?g=b:C>0&&(g=C);var w=Math.max(o,g);t.elements[0].setSelectionRange(w,w)}}t.css("position","relative"),t.after(o),t.attr("type","text"),t.on("focus",(function(e){if(!f($CSD(e.target))&&!o.is(":visible")&&$CSD(e.target).outerWidth()<100)return})),t.on("input",(function(e){if(!f($CSD(e.target))){var t=e.target.value,n=this.selectionStart,o=$CSD(e.target),r=v(t,o);if(r=r.replace(/[^\d,.-]/g,""),i(o)>0)","===t.slice(-1)&&!r.includes(",")&&(r+=",");else r=r.replace(/[,\.]/g,"");if((r.match(/[,\.]/g)||[]).length>1)return o.val(h(o,"")),void o.data("rawValue","");var s=h(o,r);o.val(s),o.data("rawValue",r.replace(",","."));var c=0,l=d(o)?d(o).length+2:0,p=a(o)?a(o).length+2:0,m=u(o)?u(o).length-2:0;l>0&&p>0&&m>0?c=l+p-1:l>0&&p>0?c=l+p:l>0&&m>0?c=l:p>0&&m>0?c=p:l>0?c=l:p>0&&(c=p);var g=Math.max(n,c);this.setSelectionRange(g,g)}})),t.on("blur",(function(e){if(!f($CSD(e.target))){var n=v($CSD(e.target).val(),$CSD(e.target));if(!n)return $CSD(e.target).val(""),$CSD(e.target).data("rawValue",""),void t.css("padding-right","");var o=parseFloat(n.replace(",","."));if(isNaN(o))$CSD(e.target).val(""),$CSD(e.target).data("rawValue","");else{var a=i($CSD(e.target)),r=o.toFixed(a),s=r.replace(".",",");$CSD(e.target).data("rawValue",r),$CSD(e.target).val(h($CSD(e.target),s))}t.css("padding-right","")}})),t.on("change",(function(e){if(!f($CSD(e.target))){var t=v($CSD(e.target).val(),$CSD(e.target));if(!t)return $CSD(e.target).val(""),void $CSD(e.target).data("rawValue","");var n=parseFloat(t.replace(",","."));if(!isNaN(n)){var o=i($CSD(e.target)),a=n.toFixed(o),r=a.replace(".",",");$CSD(e.target).data("rawValue",a),$CSD(e.target).val(h($CSD(e.target),r))}}})),t.on("keydown",(function(e){if(!f($CSD(e.target)))if("ArrowUp"===e.key||"ArrowDown"===e.key)e.preventDefault(),m("ArrowUp"===e.key?r($CSD(e.target)):-r($CSD(e.target)),$CSD(e.target));else if("ArrowLeft"===e.key||"ArrowRight"===e.key){var t=this.selectionStart,n=$CSD(this).val(),o=d($CSD(this)),i=u($CSD(this)),s=a($CSD(this)),c=o?o.length+1:0,l=s?s.length+2:0,p=i?i.length+1:0,h=c+l,v=n.length-p,g=t;"ArrowLeft"===e.key&&t<=h?g=h:"ArrowRight"===e.key&&t>=v&&(g=v),(t<h||t>v)&&(g="ArrowLeft"===e.key?h:v),g!==t&&(e.preventDefault(),this.setSelectionRange(g,g))}}));var g=t.val();if(g){a(t);var b=l(t),C=v(g,t);C=parseFloat(C.replace(b,".")).toFixed(i(t)),t.data("rawValue",C),t.val(p(t,C,!0))}o.find(".csd-arrow-btn").on("click",(function(e){($CSD(e.target).closest(".csd-input-group").find(".csd-number").focus(),f($CSD(e.target)))||m($CSD(this).hasClass("up")?r($CSD(e.target).closest(".csd-input-group").find(".csd-number")):-r($CSD(e.target).closest(".csd-input-group").find(".csd-number")),$CSD(e.target).closest(".csd-input-group").find(".csd-number"))}))}function P(e){return function(e){if(Array.isArray(e))return z(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return z(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?z(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function z(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=Array(t);n<t;n++)o[n]=e[n];return o}function j(e){if(e){var t=$CSD(e);t.attr("data-csd-select-initialized")&&function(e){if(e){var t=$CSD(e);if(t.attr("data-csd-select-initialized")){var n=t.closest(".csd-select-wrapper").length?t.closest(".csd-select-wrapper"):t.next(".csd-select-wrapper"),o=t.data("event-namespace");o&&$CSD(document).off(o),n.length&&(n.find(".csd-select-display, .csd-select-option, .csd-select-arrow, .csd-select-clearbutton, .delete-chip").each((function(){var e=$CSD(this),t=e.clone(!1,!0);e.replaceWith(t)})),t.css("display",""),n.remove()),t.removeAttr("data-csd-select-initialized")}}}(e);var n=t.find("optgroup"),o=t.find("option"),a=t.attr("id"),i=t.attr("placeholder")||o.filter('[selected][value=""]').text()||"Seleziona un'opzione",r=[];e.classList.contains("compact")&&r.push("csd-select-compact"),e.classList.contains("checkmark")&&r.push("csd-select-checkmark"),e.classList.contains("checkmark-all")&&r.push("csd-select-checkmark"),e.classList.contains("chips")&&r.push("csd-select-chips");var s=$CSD('<div class="csd-select-wrapper"></div>'),c=$CSD('<div class="csd-custom-select '+r.join(" ")+'"></div>'),l=e.hasAttribute("multiple"),d=$CSD('<div class="csd-select-display"></div>');d.html('<label class="csd-label-select">'+i+"</label>"),e.classList.contains("editable")&&(d=$CSD('<input type="text" class="csd-searchbar-input csd-select-display csd-select-editable csd-input" placeholder="Seleziona un\'opzione">'));var u=!1;(e.classList.contains("checkmark")||e.classList.contains("checkmark-all"))&&(u='<ion-icon name="checkmark-sharp"></ion-icon>');var f=e.classList.contains("checkmark-all")?'<div class="csd-select-searchbar-checkbox"></div><input type="text" class="csd-searchbar-input csd-input" placeholder="Cerca..." id="searchInput">':'<input type="text" class="csd-searchbar-input csd-input" placeholder="Cerca..." id="searchInput"><ion-icon class="csd-searchbar-icon" name="search-sharp">',p=$CSD('<div class="csd-select-searchbar">').html(f),h=$CSD('<div class="csd-select-arrow"><ion-icon class="csd-select-arrow-icon" name="chevron-down-sharp"></ion-icon></div>'),v=$CSD('<div class="csd-select-clearbutton"><ion-icon name="close-sharp"></ion-icon></div>'),m=$CSD('<div class="csd-select-options '+r.join(" ")+'"></div>');if(t.css("display","none"),e.classList.contains("searchable")&&m.append(p),n.each((function(){var e=$CSD(this),t=$CSD('<div class="csd-select-group-label"><div class="csd-select-group-label-text">'+e.attr("label")+"</div></div>"),n=$CSD('<div class="csd-select-group-options"></div>');e.find("option").each((function(){var e=$CSD(this),t=e.attr("value"),o=e.text(),a=o;u&&(a=u+o);var i=$CSD('<div class="csd-select-option" data-value="'.concat(t,'">').concat(a,"</div>"));n.append(i)})),n.prepend(t),m.append(n)})),0===n.length&&o.each((function(){var e=$CSD(this),t=e.val(),n=e.text(),o=n;if(u&&(o=u+n),t){var a=$CSD('<div class="csd-select-option" data-value="'.concat(t,'">').concat(o,"</div>"));m.append(a)}})),c.append(d),c.append(h).append(v),s.append(c),s.append(m),t.after(s),$CSD(document).off("keydown").on("keydown",(function(e){var t=$CSD(".csd-select-wrapper").filter((function(){return $CSD(this).find(".csd-select-options").hasClass("visible")}));t.length&&function(e,t){var n=e.find(".csd-select-options"),o=e.find(".csd-select-option:visible"),a=e.find(".csd-select-option.option-focus");a.length||(a=e.find(".csd-select-option:hover")).length||(a=e.find(".csd-select-option.selected")).length&&a.addClass("option-focus");if(!n.hasClass("visible")||!o.length)return;var i=function(e){if(o.each((function(){$CSD(this).removeClass("option-focus")})),e&&e.length){e.addClass("option-focus");var t=n.elements[0],a=e.elements[0],i=t.scrollTop,r=t.clientHeight,s=a.offsetTop,c=a.offsetHeight,l=5;s<i?t.scrollTop=Math.max(0,s-l):s+c>i+r&&(t.scrollTop=Math.min(t.scrollHeight-r,s+c-r+l))}},r=function(){var e=[];return o.each((function(){e.push($CSD(this))})),e},s=function(){var t=r(),n=e.find(".csd-select-option.option-focus");if(!n.length)return-1;for(var o=0;o<t.length;o++)if(t[o].elements[0]===n.elements[0])return o;return-1};switch(t.key){case"ArrowDown":t.preventDefault();var c=r(),l=s();if(-1===l){var d=e.find(".csd-select-option.selected");if(d.length){var u=c.findIndex((function(e){return e.elements[0]===d.elements[0]}));i(u>-1?c[u]:c[0])}else i(c[0])}else l===c.length-1?i(c[0]):i(c[l+1]);break;case"ArrowUp":t.preventDefault();var f=r(),p=s();if(-1===p){var h=e.find(".csd-select-option.selected");if(h.length){var v=f.findIndex((function(e){return e.elements[0]===h.elements[0]}));i(v>-1?f[v]:f[f.length-1])}else i(f[f.length-1])}else i(0===p?f[f.length-1]:f[p-1]);break;case"Enter":case"Tab":var m=e.find(".csd-select-option.option-focus");if(m.length){t.preventDefault();var g=m.data("value"),b=m.text().replace(/^✓\s*/,""),C=e.prev(".csd-select").attr("id"),y=e.prev(".csd-select").prop("multiple");F(e,g,b,C,y),m.removeClass("option-focus"),n.removeClass("visible")}break;case"Escape":o.each((function(){$CSD(this).removeClass("option-focus")})),n.removeClass("visible")}}(t,e)})),$CSD(document).on("click",(function(e){e.target.closest(".csd-select-wrapper")||($CSD(".csd-select-options").removeClass("visible"),_($CSD(".csd-select-wrapper"),""),$CSD(".csd-searchbar-input:not(.csd-select-editable)").val(""))})),e.classList.contains("editable")||s.on("click",".csd-select-display",(function(e){e.stopPropagation();var t=$CSD(this).closest(".csd-select-wrapper").find(".csd-select-options");$CSD(".csd-select-options").not(t).removeClass("visible"),I($CSD(this),t),t.toggleClass("visible"),p.length&&p.find("input").focus()})),s.on("click",".csd-select-arrow",(function(e){e.stopPropagation();var t=$CSD(this).closest(".csd-select-wrapper"),n=t.find(".csd-select-display"),o=t.find(".csd-select-options");I(n,o),$CSD(".csd-select-options").not(o).removeClass("visible"),o.toggleClass("visible")})),s.on("click",".csd-select-clearbutton",(function(e){e.stopPropagation(),F($CSD(this).closest(".csd-select-wrapper"),"",i,a)})),s.on("click",".csd-select-searchbar",(function(e){e.stopPropagation()})),s.on("input",".csd-searchbar-input",(function(e){e.stopPropagation(),_($CSD(this).closest(".csd-select-wrapper"),$CSD(this).val())})),s.on("input",".csd-select-editable",(function(e){e.stopPropagation();var t=$CSD(this).closest(".csd-select-wrapper"),n=t.find(".csd-select-options");I($CSD(this),n),n.addClass("visible"),_(t,$CSD(this).val())})),s.on("mouseenter",".csd-select-option",(function(){$CSD(this).closest(".csd-select-wrapper").find(".csd-select-option").removeClass("option-focus"),$CSD(this).addClass("option-focus")})),s.on("mouseleave",".csd-select-option",(function(){$CSD(this).removeClass("option-focus")})),s.on("click",".csd-select-option",(function(e){e.stopPropagation(),F($CSD(this).closest(".csd-select-wrapper"),$CSD(this).data("value"),$CSD(this).text().replace(/^✓\s*/,""),a,l)})),e.classList.contains("checkmark-all")){s.find(".csd-select-searchbar").find(".csd-select-searchbar-checkbox");s.on("click",".csd-select-searchbar-checkbox",(function(e){e.stopPropagation();var t=$CSD(this).closest(".csd-select-wrapper"),n=$CSD(this),o=t.find(".csd-select-option"),i=o.filter(":visible");o.length===o.filter(".selected").length?o.each((function(){var e=$CSD(this);if(e.hasClass("selected")){var n=e.data("value").toString(),o=e.text().replace(/^✓\s*/,"");F(t,n,o,a,l)}})):i.each((function(){var e=$CSD(this);if(!e.hasClass("selected")){var n=e.data("value").toString(),o=e.text().replace(/^✓\s*/,"");F(t,n,o,a,l)}})),R(n,t)})),s.on("click",".delete-chip",(function(e){e.preventDefault(),e.stopPropagation();var t=$CSD(this).closest(".csd-select-wrapper"),n=$CSD(this).closest(".csd-select-chip"),o=n.find(".csd-label-select").text();F(t,n.data("value").toString(),o,a,l)}))}var g=s.find("#searchInput"),b=s.find("#clearButton");t.attr("data-csd-select-initialized","true"),g.length&&b.length&&(g.on("input",(function(){b.toggleClass("visible",""!==this.value)})),b.on("click",(function(){g.val(""),$CSD(this).removeClass("visible")})))}}function R(e,t){var n=t.find(".csd-select-option"),o=n.filter(".selected").length;0===o?e.find("ion-icon").remove():o===n.length?e.html("<ion-icon name='checkmark-outline'></ion-icon>"):e.html("<ion-icon name='remove-outline'></ion-icon>")}function I(e,t){var n=e.offset(),o=$CSD(window).height(),a=$CSD(window).scrollTop(),i=e.outerHeight(),r=t.outerHeight();o-(n.top-a+i)<r?t.addClass("position-above").removeClass("position-below"):t.addClass("position-below").removeClass("position-above")}function F(e,t,n,o){var a=arguments.length>4&&void 0!==arguments[4]&&arguments[4],i=e.find(".csd-select-editable").length>0,r=e.find(".csd-select-chips").length>0;t=t.toString();var s=e.find(".csd-select-display");i&&(s=e.find(".csd-select-editable"));var c=e.prev(".csd-select"),l=e.find(".csd-select-clearbutton"),d=($CSD("#"+o),c.val()||(a?[]:""));Array.isArray(d)||(d=d.split(",").filter((function(e){return e})));var u=c.attr("data-placeholder")||"Seleziona un'opzione",f=s.find(".csd-label-select").text()||"",p=P(d),h=f;if(a?p.includes(t)?(p=p.filter((function(e){return e!==t})),h=h.split(",").filter((function(e){return e.trim()!==n})).join(", ")):(p.includes(u)&&(p=p.filter((function(e){return e!==u})),h=h.replace(u,"").trim()),h.includes(u)&&(p=p.filter((function(e){return e!==u})),h=h.replace(u,"").trim()),p.push(t),h=(h?h+", ":"")+n):(p=[t],h=n),c.val(p).trigger("change"),r&&0!=p.length&&""!=p[0]){var v="",m=e.find(".csd-select-options");p.forEach((function(e){var t=m.find('.csd-select-option[data-value="'+e+'"]').text();v+='<div class="csd-select-chip" data-value="'+e+'"><label class="csd-label-select">'+t+'</label><ion-icon class="delete-chip" name="close-circle-outline"></ion-icon></div>'})),""==v?s.html('<label class="csd-label-select">'+u+"</label>"):s.html('<div class="csd-select-chips">'+v+"</div>"),s.find(".delete-chip").on("click",(function(t){t.preventDefault(),t.stopPropagation();var n=$CSD(this).closest(".csd-select-chip"),i=n.find(".csd-label-select").text();F(e,n.data("value").toString(),i,o,a)}))}else s.html('<label class="csd-label-select">'+(h||u)+"</label>");i&&s.val(h||""),i&&0===p.length&&s.val("");var g,b=p.length>0&&""!==p[0];g=b,l.toggleClass("visible",g),e.find(".csd-select-option").each((function(){var e=$CSD(this),t=e.data("value").toString();p.includes(t)?e.addClass("selected"):e.removeClass("selected")}));var C=e.find(".csd-select-searchbar-checkbox");C&&C.length&&R(C,e),a||e.find(".csd-select-options").removeClass("visible")}function _(e,t){t=t.toLowerCase();var n=0;e.find(".csd-select-option").each((function(){var e=$CSD(this).text().toLowerCase().includes(t);$CSD(this).toggle(e),e&&n++}));var o=e.find(".csd-no-results");0===o.length&&(o=$CSD('<div class="csd-no-results" style="display:none">Nessun risultato trovato</div>'),e.find(".csd-select-options").append(o)),o.toggle(0===n)}function H(e,t){t=t.replace(/\s+/g,"");var n=$CSD('<div class="csd-otp-container"></div>');e.after(n),e.hide();for(var o=[],a=function(){var a=t[i],r=$CSD("<input>").addClass("csd-otp-digit").attr("type","text").attr("maxlength",1).attr("inputmode","numeric").attr("data-index",i).attr("pattern","1"===a?"[0-9]":null);n.append(r),o.push(r),r.on("input",(function(){var t=this.value,n=$CSD(this).data("index");if("1"!==a||/[0-9]/.test(t)){var i=e.val();(i=i.split(""))[n]=t,e.val(i.join("")).trigger("change"),t&&n<o.length-1&&o[parseInt(n)+1].elements[0].focus()}else this.value=""})),r.on("keydown",(function(t){var n=$CSD(this).data("index");if("Backspace"===t.key){this.value="";var a=e.val();if((a=a.split(""))[n]="",e.val(a.join("")).trigger("change"),n>0){var i=o[n-1].elements[0];i.focus();var r=i.value.length;i.setSelectionRange(r,r),t.preventDefault()}}}))},i=0;i<t.length;i++)a();n.on("paste",(function(n){n.preventDefault();var a=n.clipboardData||("undefined"!=typeof window?window.clipboardData:null),i=a?a.getData("text"):"",r=t.includes("1")?i.replace(/\D/g,""):i.split("").slice(0,t.length);r.forEach((function(e,n){if(n<o.length){if("1"===t[n]&&!/[0-9]/.test(e))return;o[n].val(e),n===r.length-1&&o[n].elements[0].focus()}})),e.val(r.join("")).trigger("change")})),n.on("focusout",(function(o){setTimeout((function(){if(!n.find(":focus").length){var o=e.val().length===t.length;e.elements[0].setCustomValidity(o?"":"Please enter all digits")}}),100)}))}function B(e){var t=$CSD(e),n=t.data("mask");if(t.hasClass("csd-otp"))H(t,n);else{t.on("input",(function(e){for(var t=e.target.value,o="",a=0,i=!1,r=0;r<n.length;r++){var s=n[r],c=t[a];if("?"!==s){if(!c&&i)break;if(!c)break;/\d/.test(s)?/\d/.test(c)?(o+=c,a++):(a++,r--):/[A-Za-z]/.test(s)?/[A-Za-z]/.test(c)?(o+=c,a++):(a++,r--):"*"===s?/[A-Za-z0-9]/.test(c)?(o+=c,a++):(a++,r--):"#"===s?(o+=c,a++):(o+=s,c===s&&a++)}else i=!0}this.value=o})),t.on("blur",(function(){var e=this.value,t=n.indexOf("?")>-1?n.indexOf("?"):n.length,o=e.length>=t;this.setCustomValidity(o?"":"Invalid input, mask not completed")}));var o=n.replace(/\?/g,"").length;t.attr("maxlength",o),t.attr("placeholder")||t.attr("placeholder",n.replace(/\?/g,""))}}function Y(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var o,a,i,r,s=[],c=!0,l=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(o=i.call(n)).done)&&(s.push(o.value),s.length!==t);c=!0);}catch(e){l=!0,a=e}finally{try{if(!c&&null!=n.return&&(r=n.return(),Object(r)!==r))return}finally{if(l)throw a}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return U(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?U(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function U(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=Array(t);n<t;n++)o[n]=e[n];return o}function W(e){return e.toLocaleDateString("it-IT",{day:"2-digit",month:"2-digit",year:"numeric"}).split("/").join("/")}function q(e,t){var n=e[0].getBoundingClientRect();("undefined"!=typeof window?window.innerHeight:800)-n.bottom>=t[0].offsetHeight+4?t.removeClass("position-above").addClass("position-below"):t.removeClass("position-below").addClass("position-above")}function V(){$CSD(".csd-datepicker-range-preset").each((function(){var e=$CSD(this),t=$CSD('<div class="csd-select-container position-relative"></div>');e.wrap(t),e.prop("readonly",!0);var n=$CSD('<div class="csd-select-options"></div>');[{label:"Ultima settimana",value:"week"},{label:"Ultimo mese",value:"month"},{label:"Ultimi 3 mesi",value:"threeMonths"},{label:"Ultimo anno",value:"year"},{label:"Da inizio anno",value:"ytd"},{label:"Personalizzato",value:"custom"}].forEach((function(e){var t=$CSD('<div class="csd-select-option" data-value="'.concat(e.value,'">').concat(e.label,"</div>"));n.append(t)})),e.after(n),e.on("click",(function(t){t.stopPropagation(),$CSD(".csd-select-options").not(n).hide(),n.hasClass("visible")||(n.addClass("visible"),q(e,n))})),n.on("click",".csd-select-option",(function(t){t.stopPropagation();var o=$CSD(this).data("value");$CSD(this).addClass("selected");var a,i,r=new Date;switch(o){case"week":i=new Date(r),(a=new Date(r)).setDate(a.getDate()-7);break;case"month":i=new Date(r),(a=new Date(r)).setMonth(a.getMonth()-1);break;case"threeMonths":i=new Date(r),(a=new Date(r)).setMonth(a.getMonth()-3);break;case"year":i=new Date(r),(a=new Date(r)).setFullYear(a.getFullYear()-1);break;case"ytd":i=new Date(r),a=new Date(r.getFullYear(),0,1);break;case"custom":return e.removeClass("csd-datepicker-range-preset").addClass("csd-datepicker").addClass("multi-months").attr("data-range","true").attr("data-from-preset","true"),e.off("click"),V(),n.hide(),void e.trigger("click")}if(a&&i){var s=W(a),c=W(i);e.val("".concat(s," - ").concat(c))}n.removeClass("visible")})),$CSD(document).on("click",(function(e){$CSD(e.target).closest(".csd-select-container").length||n.removeClass("visible")}))})),$CSD(".csd-datepicker:not(.csd-datepicker-range-preset), .csd-datetimepicker").each((function(){var e=$CSD(this),t="true"===e.attr("data-range"),n=e.hasClass("csd-datetimepicker"),o=e.attr("data-format")||(n?"DD/MM/YYYY HH:mm":"DD/MM/YYYY"),a="true"===e.attr("data-manual-input"),i="true"===e.attr("data-multiple"),r=e.attr("btn-clear"),s=e.attr("btn-today"),c=e.attr("min-date")?new Date(e.attr("min-date")):null,l=e.attr("max-date")?new Date(e.attr("max-date")):null,d=(e.hasClass("csd-datepicker-range-preset"),"true"===e.attr("data-from-preset"));e.prop("readonly",!a);var u=[];function f(){if(i){var t=u.sort((function(e,t){return e-t})).map((function(e){return L(e,o)}));e.val(t.join(", ")),e.trigger("change")}}if(a){var p=o.replace(/YYYY/g,"9999").replace(/MM/g,"19").replace(/DD/g,"39").replace(/HH/g,"29").replace(/mm/g,"59"),h=t?"".concat(p," - ").concat(p):p;e.attr("data-mask",h),B(e.elements[0]),e.on("change",(function(){var a=e.val();if(t){var r=Y(a.split("-").map((function(e){return e.trim()})),2),s=r[0],c=r[1],l=v(s,o),d=v(c,o);l&&d&&(b=l,C=d,g=new Date(l),z())}else if(i){var f=a.split(",").map((function(e){return e.trim()}));u=f.map((function(e){return v(e,o)})).filter((function(e){return null!==e})),u.length>0&&(g=new Date(u[0])),z()}else{var p=v(a,o);p&&(b=p,g=new Date(p),n&&(D=p.getHours(),k=p.getMinutes()),z())}}))}function v(e,t){if(!e)return null;var n=t.match(/[A-Za-z]+/g),o=e.match(/\d+/g);if(!o||o.length!==n.length)return null;var a,i,r,s=0,c=0;n.forEach((function(e,t){var n=parseInt(o[t]);switch(e){case"YYYY":a=n;break;case"MM":i=n-1;break;case"DD":r=n;break;case"HH":s=n;break;case"mm":c=n}}));var l=new Date(a,i,r,s,c);return isNaN(l.getTime())?null:l}var m=i?$CSD('<div class="csd-datepicker-wrapper csd-datepicker-wrapper-multiple" style="display: none;"></div>'):$CSD('<div class="csd-datepicker-wrapper" style="display: none;"></div>');e.after(m);var g=new Date,b=null,C=null,y=!1,w=!1,S=!1,D=g.getHours(),k=g.getMinutes();if(e.val()){var $=new Date(e.val());isNaN($.getTime())||(b=$,D=$.getHours(),k=$.getMinutes())}var x,E=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],A=["Mon","Tue","Wed","Thu","Fri","Sat","Sun"];function L(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:o;if(!e)return"";var n=e.getFullYear(),a=String(e.getMonth()+1).padStart(2,"0"),i=String(e.getDate()).padStart(2,"0"),r=String(D).padStart(2,"0"),s=String(k).padStart(2,"0");return t.replace("YYYY",n).replace("MM",a).replace("DD",i).replace("HH",r).replace("mm",s)}function T(){t&&b&&C?(e.val("".concat(L(b)," - ").concat(L(C))),g=new Date(b)):b?(e.val(L(b)),g=new Date(b)):e.val("")}function N(e){return!(c&&e<c)&&!(l&&e>l)}function M(e){return new Date(e.getFullYear(),e.getMonth(),1)}function O(e){return new Date(e.getFullYear(),e.getMonth()+1,0)}function P(e,t){return e&&t&&e.getDate()===t.getDate()&&e.getMonth()===t.getMonth()&&e.getFullYear()===t.getFullYear()}function z(){M(g),O(g).getDate();var t="";if(e.hasClass("multi-months")){t+='<div class="datepicker-multi-months">',t+='<div class="datepicker-month">',t+=j(g,!0,!1),t+="</div>";var o=new Date(g);o.setMonth(o.getMonth()+1),t+='<div class="datepicker-month">',t+=j(o,!1,!0),t+="</div>",t+="</div>"}else t+=j(g,!0,!0);t+=n?'\n          <div class="time-select">\n            <div class="time-field">\n              <div class="time-spinner">\n                <button type="button" class="time-btn hour-up">&and;</button>\n                <input type="text" class="time-input hour-input" value="'.concat(String(D).padStart(2,"0"),'" readonly>\n                <button type="button" class="time-btn hour-down">&or;</button>\n              </div>\n            </div>\n            <div class="time-separator">:</div>\n            <div class="time-field">\n              <div class="time-spinner">\n                <button type="button" class="time-btn minute-up">&and;</button>\n                <input type="text" class="time-input minute-input" value="').concat(String(k).padStart(2,"0"),'" readonly>\n                <button type="button" class="time-btn minute-down">&or;</button>\n              </div>\n            </div>\n          </div>\n        '):"",(r||s)&&(t+='\n            <div class="datepicker-footer">\n              '.concat(r&&"false"!=r?'<button type="button" class="action-btn clear-btn">'+(r&&"true"!=r?r:"Clear")+"</button>":"","\n              ").concat(s&&"false"!=s?'<button type="button" class="action-btn today-btn">'+(s&&"true"!=s?s:"Today")+"</button>":"","\n            </div>\n          ")),d&&(t+='\n            <div class="datepicker-footer">\n              <button type="button" class="action-btn back-btn">Indietro</button>\n            </div>\n          '),m.html(t)}function j(e){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],o=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],a=M(e),r=O(e),s=r.getDate(),c='\n          <div class="datepicker-header">\n            '.concat(n?'<button type="button" class="nav-btn prev-month">&lt;</button>':"",'\n            <div class="month-year-select">\n              <button type="button" class="month-btn">').concat(E[e.getMonth()],'</button>\n              <button type="button" class="year-btn">').concat(e.getFullYear(),"</button>\n            </div>\n            ").concat(o?'<button type="button" class="nav-btn next-month">&gt;</button>':"","\n          </div>");if(w)return c+=function(){var e='<div class="month-select">';return E.forEach((function(t,n){var o=(g.getMonth(),"");e+='<button type="button" class="month-option '.concat(o,'" data-month="').concat(n,'">').concat(t,"</button>")})),e+="</div>"}();if(S)return c+=function(){for(var e=g.getFullYear(),t=e+10,n='<div class="year-select">',o=e-10;o<=t;o++)n+='<button type="button" class="year-option '.concat("",'" data-year="').concat(o,'">').concat(o,"</button>");return n+"</div>"}();c+='<div class="datepicker-grid">',A.forEach((function(e){c+='<div class="weekday">'.concat(e,"</div>")}));var l=function(e){var t=new Date(e);t.setMonth(t.getMonth()-1);for(var n=O(t),o=[],a=(e.getDay()||7)-1;a>0;a--){var i=new Date(n);i.setDate(n.getDate()-a+1),o.push(i)}return o}(a);l.forEach((function(e){c+='<div class="day other-month" data-date="'.concat(L(e,"YYYY-MM-DD"),'">').concat(e.getDate(),"</div>")}));for(var d=function(){var n=new Date(e.getFullYear(),e.getMonth(),f),o=P(n,new Date),a=P(n,b),r=P(n,C),s=function(e){return!!(t&&b&&C)&&e>b&&e<C}(n),l=N(n),d=i&&u.some((function(e){return P(e,n)})),p=["day",o?"today":"",a?t?"selected start":"selected":"",r?"selected end":"",s?"in-range":"",d?"selected":"",l?"":"disabled"].filter(Boolean).join(" ");c+='<div class="'.concat(p,'" data-date="').concat(L(n,"YYYY-MM-DD"),'">').concat(f,"</div>")},f=1;f<=s;f++)d();var p=function(e,t){var n=new Date(e);n.setMonth(n.getMonth()+1);for(var o=[],a=1;o.length+t<42;){var i=new Date(n);i.setDate(a),o.push(i),a++}return o}(r,l.length+s);return p.forEach((function(e){c+='<div class="day other-month" data-date="'.concat(L(e,"YYYY-MM-DD"),'">').concat(e.getDate(),"</div>")})),c+="</div>"}a&&(e.prop("readonly",!1),e.on("input",(function(){var t=this.value.trim();if(t.length===o.length&&t.split("").every((function(e,t){return"D"===o[t]||"M"===o[t]||"Y"===o[t]?/\d/.test(e):e===o[t]}))){var n=Y(t.split("/").map(Number),3),a=n[0],i=n[1],r=n[2],s=new Date(r,i-1,a);s.getDate()===a&&s.getMonth()===i-1&&s.getFullYear()===r&&N(s)?(g=s,b=s,T(),z()):e.addClass("error")}else e.addClass("error")}))),e.on("click",(function(t){t.stopPropagation(),$CSD(".csd-datepicker-wrapper").not(m).hide(),m.toggle(),m.is(":visible")&&(w=!1,S=!1,z(),q(e,m))})),$CSD(window).on("resize",(function(){m.is(":visible")&&q(e,m)})),$CSD(window).on("scroll",(function(){m.is(":visible")&&q(e,m)})),m.on("click",".prev-month",(function(e){e.stopPropagation(),g.setMonth(g.getMonth()-1),z()})),m.on("click",".next-month",(function(e){e.stopPropagation(),g.setMonth(g.getMonth()+1),z()})),m.on("click",".month-btn",(function(e){e.stopPropagation(),w=!w,S=!1,z()})),m.on("click",".year-btn",(function(e){e.stopPropagation(),S=!S,w=!1,z()})),m.on("click",".month-option",(function(e){e.stopPropagation();var t=parseInt($CSD(this).data("month"));g.setMonth(t),w=!1,z()})),m.on("click",".year-option",(function(e){e.stopPropagation();var t=parseInt($CSD(this).data("year"));g.setFullYear(t),S=!1,z()})),m.on("click",".day:not(.disabled)",(function(n){n.stopPropagation();var o=Y($CSD(this).data("date").split("-").map(Number),3),a=o[0],c=o[1],l=o[2],d=new Date(a,c-1,l);if(i){var p=u.findIndex((function(e){return e.getFullYear()===d.getFullYear()&&e.getMonth()===d.getMonth()&&e.getDate()===d.getDate()}));return p>=0?u.splice(p,1):u.push(new Date(d)),f(),void z()}t?(!y||y&&d<b?(b=d,C=null,y=!0):(d>b?C=d:(C=b,b=d),y=!1,r||s||m.hide()),T()):(b=d,r||s||m.hide(),T()),z(),e.trigger("change")})),m.on("click",".hour-up",(function(e){e.stopPropagation(),D=(D+1)%24,m.find(".hour-input").val(String(D).padStart(2,"0")),T()})),m.on("click",".hour-down",(function(e){e.stopPropagation(),D=(D-1+24)%24,m.find(".hour-input").val(String(D).padStart(2,"0")),T()})),m.on("click",".minute-up",(function(e){e.stopPropagation(),k=(k+1)%60,m.find(".minute-input").val(String(k).padStart(2,"0")),T()})),m.on("click",".minute-down",(function(e){e.stopPropagation(),k=(k-1+60)%60,m.find(".minute-input").val(String(k).padStart(2,"0")),T()})),m.on("click",".today-btn",(function(e){e.stopPropagation();var o=new Date;t?(b=o,C=null,y=!0):b=o,n&&(D=o.getHours(),k=o.getMinutes()),g=new Date(o),T(),z()})),m.on("click",".clear-btn",(function(n){n.stopPropagation(),i?(u=[],f()):t?(b=null,C=null,e.val("")):(b=null,e.val("")),z()})),m.on("click",".back-btn",(function(t){t.stopPropagation(),e.removeClass("multi-months").removeClass("csd-datepicker").removeAttr("data-range").removeAttr("data-from-preset").addClass("csd-datepicker-range-preset").val(""),m.remove(),V(),e.trigger("click")})),$CSD(document).on("click",(function(e){$CSD(e.target).closest(".csd-datepicker-wrapper").length||$CSD(e.target).hasClass("csd-datepicker")||(w=!1,S=!1,m.hide())})),(x=m.find(".time-select")).length&&(x.find(".hour-input").val(String(D).padStart(2,"0")),x.find(".minute-input").val(String(k).padStart(2,"0")))}))}function X(e){var t=$CSD(e),n=document.createElement("div");n.className="csd-toggle-button-wrapper";var o=document.createElement("div");o.className="csd-toggle-button-label";var a=e.getAttribute("icon"),i=e.getAttribute("onicon"),r=e.getAttribute("officon"),s=e.getAttribute("onlabel"),c=e.getAttribute("offlabel");if(s||c){var l=document.createElement("span");l.style.visibility="hidden",l.style.position="absolute",l.style.whiteSpace="nowrap",l.style.fontSize="14px",document.body.appendChild(l);var d=[s,c].filter(Boolean),u=0;d.forEach((function(e){l.textContent=e,u=Math.max(u,l.offsetWidth)})),document.body.removeChild(l);var f=u+64,p=Math.ceil(f/16);o.style.minWidth=p+"rem"}if(a||i||r){var h=document.createElement("ion-icon");a?h.setAttribute("name",a):h.setAttribute("name",e.checked?i||r:r||i),o.appendChild(h)}if(s||c){var v=document.createElement("button");v.type="button",v.className="csd-toggle-button-text",v.textContent=e.checked?s||c:c||s,o.appendChild(v)}e.parentNode.replaceChild(n,e),n.appendChild(e),n.appendChild(o);$CSD(n);$CSD(o).on("click",(function(t){e.disabled||(e.checked=!e.checked,e.dispatchEvent(new Event("change",{bubbles:!0})))})),t.on("change",(function(){var e=this.checked,t=o.querySelector("ion-icon"),n=o.querySelector(".csd-toggle-button-text");t&&(e&&(i||a)?t.setAttribute("name",i||a):e||!r&&!a||t.setAttribute("name",r||a)),n&&(e&&(s||c)?n.textContent=s||c:e||!c&&!s||(n.textContent=c||s))}));var m=_CSD_UTILS.prototype.val;_CSD_UTILS.prototype.val=function(e){var t=this.elements[0];return t&&t.classList.contains("csd-toggle-button")?0===arguments.length?t.checked:(t.checked=!0===e||"true"===e||1===e||"1"===e,t.dispatchEvent(new Event("change",{bubbles:!0})),this):m.apply(this,arguments)}}function J(e){if(!e)return null;var t=(0,a.$CSD)(e);if(!t.attr("data-csd-btn-initialized"))return e;var n=t.attr("data-original-text");n&&t.text(n);var o=t.clone(!1,!0);return t.replaceWith(o),e._csdBtnObserver&&(e._csdBtnObserver.disconnect(),delete e._csdBtnObserver),o.removeAttr("data-csd-btn-initialized"),o.removeAttr("data-original-text"),o.removeAttr("data-current-icon"),o.removeAttr("data-current-badge"),o.removeAttr("data-current-place-icon"),o.elements[0]}function Z(e){if(e){var t=(0,a.$CSD)(e);if(t.attr("data-csd-btn-initialized")){var n=J(e);if(!n)return;e=n,t=(0,a.$CSD)(e)}var o=t.text();if(t.attr("data-original-text")||t.attr("data-original-text",o),t.attr("icon")){var i,r=t.attr("icon"),s=r.split("-",1)[0];switch(s){case"ion":r.split("-");var c=r.slice(s.length+1);i='<ion-icon name="'.concat(c,'"></ion-icon>'),"left"==t.attr("place-icon")?t.html(i).append(o):t.append(i);break;case"fa":var l=r.split("-"),d=r.slice(s.length+1+l[1].length+1);i='<i class="fa-'.concat(l[1]," fa-").concat(d,'"></i>'),"left"==t.attr("place-icon")?t.html(i).append(o):t.append(i)}}if(t.attr("badge")){var u=t.attr("badge"),f='<span class="csd-badge">'.concat(u,"</span>");t.append(f)}t.on("click",(function(){!function(e){var t={type:"csd_click",action:"click",item:e};e.trigger(t)}(t)}));var p=t.attr("icon")||"",h=t.attr("badge")||"",v=t.attr("place-icon")||"";if(t.attr("data-current-icon",p),t.attr("data-current-badge",h),t.attr("data-current-place-icon",v),"undefined"!=typeof MutationObserver){var m=new MutationObserver((function(n){n.forEach((function(n){if("attributes"===n.type){var o=n.attributeName;if(["icon","badge","place-icon"].includes(o))(t.attr(o)||"")!==(t.attr("data-current-".concat(o))||"")&&setTimeout((function(){Z(e)}),0)}}))}));m.observe(e,{attributes:!0,attributeFilter:["icon","badge","place-icon"]}),e._csdBtnObserver=m}t.attr("data-csd-btn-initialized","true")}}function K(e){var t=$CSD(e),n=t.hasClass("clearbutton"),o=$CSD('<div class="csd-searchbar"></div>');t.wrap(o);var a=$CSD('<ion-icon class="csd-searchbar-icon" name="search-sharp"></ion-icon>');if(t.after(a),n){var i=$CSD('<div class="csd-clearbutton"><ion-icon name="close-sharp"></ion-icon></div>');t.after(i),i.on("click",(function(){t.val("").trigger("input")}))}}function G(e){var t=$CSD(e),n=document.createElement("div");n.className="csd-toggle-wrapper";var o=document.createElement("label");if(o){o.className="csd-toggle-switch";var a=e.getAttribute("icon-checked"),i=e.getAttribute("icon-unchecked"),r=e.getAttribute("text-checked"),s=e.getAttribute("text-unchecked");a&&i&&(o.classList.add("with-icons"),o.setAttribute("data-icon-checked",a),o.setAttribute("data-icon-unchecked",i)),r&&s&&(o.classList.add("with-text"),o.setAttribute("data-text-checked",r),o.setAttribute("data-text-unchecked",s));var c=e.getAttribute("label"),l=e.getAttribute("position")||"end";if(c){n.className="csd-toggle-group";var d=document.createElement("span");d.className="csd-toggle-label",d.textContent=c,"start"===l?(n.appendChild(d),n.appendChild(o)):(n.appendChild(o),n.appendChild(d))}else n.appendChild(o);var u=t.elements[0];u.style.display="none",u.parentNode.replaceChild(n,u),n.appendChild(u);$CSD(n);var f=$CSD(o);f.on("click",(function(e){u.disabled||(u.checked=!u.checked,u.dispatchEvent(new Event("change",{bubbles:!0})))})),t.on("change",(function(){f.toggleClass("checked",u.checked)})),f.toggleClass("checked",u.checked);var p=_CSD_UTILS.prototype.val;_CSD_UTILS.prototype.val=function(e){var t=this.elements[0];return t&&t.classList.contains("csd-toggle")?0===arguments.length?t.checked:(t.checked=!0===e||"true"===e||1===e||"1"===e,t.dispatchEvent(new Event("change",{bubbles:!0})),this):p.apply(this,arguments)}}}function Q(e){var t=$CSD(e);if("true"===t.attr("input-group")){var n=t.closest(".csd-input-group");n.elements.length||(t.wrap('<div class="csd-input-group"></div>'),n=t.closest(".csd-input-group"));var o=$CSD('<span class="csd-input-group-icon"><ion-icon name="eye-outline"></ion-icon></span>');n.append(o),o.on("click",(function(e){e.preventDefault();var n="password"===t.attr("type")?"text":"password";t.attr("type",n);var a="password"===n?"eye-outline":"eye-off-outline";o.find("ion-icon").attr("name",a)}))}else{t.wrap('<div class="csd-password"></div>');var a=$CSD('<ion-icon class="csd-password-toggle" name="eye-outline"></ion-icon>');t.after(a),a.on("click",(function(e){e.preventDefault();var n="password"===t.attr("type")?"text":"password";t.attr("type",n);var o="password"===n?"eye-outline":"eye-off-outline";a.attr("name",o)}))}}function ee(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var o,a,i,r,s=[],c=!0,l=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(o=i.call(n)).done)&&(s.push(o.value),s.length!==t);c=!0);}catch(e){l=!0,a=e}finally{try{if(!c&&null!=n.return&&(r=n.return(),Object(r)!==r))return}finally{if(l)throw a}}return s}}(e,t)||ne(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function te(e){return function(e){if(Array.isArray(e))return oe(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||ne(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ne(e,t){if(e){if("string"==typeof e)return oe(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?oe(e,t):void 0}}function oe(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=Array(t);n<t;n++)o[n]=e[n];return o}function ae(e){var t=$CSD(e),n=parseFloat(t.attr("min")||0),o=parseFloat(t.attr("max")||100),a=parseFloat(t.attr("step")||1),i="true"===t.attr("range"),r="true"===t.attr("show-input"),s=i?t.val().split(",").map((function(e){return parseFloat(e)})):[parseFloat(t.val()||50)],c=document.createElement("div");c.className="csd-range-wrapper";var l=e.getAttribute("icon-down"),d=e.getAttribute("icon-up");if(l&&d&&!r){var u=document.createElement("ion-icon");u.className="range-icon down",u.setAttribute("name",l),c.appendChild(u)}var f=document.createElement("div");f.className="csd-range-container";var p=document.createElement("div");p.className="csd-range-track";var h=document.createElement("div");h.className="csd-range-fill";var v=i?[document.createElement("div"),document.createElement("div")]:[document.createElement("div")];v.forEach((function(e,t){e.className="csd-range-handle",e.setAttribute("data-handle",t)})),f.appendChild(p),f.appendChild(h),v.forEach((function(e){return f.appendChild(e)})),c.appendChild(f);var m=[];if(r)if(i){var g=document.createElement("div");g.className="csd-range-input-group";var b=document.createElement("input");b.type="number",b.className="csd-input csd-range-input",b.setAttribute("data-handle","0"),b.min=n,b.max=o,b.step=a;var C=document.createElement("input");C.type="number",C.className="csd-input csd-range-input",C.setAttribute("data-handle","1"),C.min=n,C.max=o,C.step=a;var y=document.createElement("span");y.className="csd-range-input-separator",y.textContent="-",g.appendChild(b),g.appendChild(y),g.appendChild(C),c.appendChild(g),m=[b,C]}else{var w=document.createElement("input");w.type="number",w.className="csd-input csd-range-input",w.setAttribute("data-handle","0"),w.min=n,w.max=o,w.step=a,c.appendChild(w),m=[w]}var S=t.elements[0];if(S.style.display="none",S.parentNode.replaceChild(c,S),c.appendChild(S),l&&d&&!r){var D=document.createElement("ion-icon");D.className="range-icon up",D.setAttribute("name",d),c.appendChild(D)}$CSD(c),$CSD(f),$CSD(p);var k=$CSD(h),$=v.map((function(e){return $CSD(e)})),x=m.map((function(e){return $CSD(e)}));function E(){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];s=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s;var a=o-n;if(i){var c=(s[0]-n)/a*100,l=(s[1]-n)/a*100;k.css("left",c+"%"),k.css("width",l-c+"%"),$[0].css("left",c+"%"),$[1].css("left",l+"%"),r&&(x[0].val(s[0]),x[1].val(s[1]))}else{var d=(s[0]-n)/a*100;k.css("width",d+"%"),$[0].css("left",d+"%"),r&&x[0].val(s[0])}e&&t.val(i?s.join(","):s[0]).trigger("change")}var A=!1,L=null,T=$CSD(document);function N(e){var t=f.getBoundingClientRect(),i=(e-t.left)/t.width,r=n+(o-n)*i;return r=Math.round(r/a)*a,Math.max(n,Math.min(o,r))}function M(e){if(A){var t=N(e.clientX),n=te(s);i?0===L?t<=s[1]&&(n[0]=t):t>=s[0]&&(n[1]=t):n[0]=t,E(n),e.preventDefault()}}function O(){A&&(A=!1,L=null,T.off("mousemove",M),T.off("mouseup",O))}function P(e){if(A){e.preventDefault(),e.stopPropagation();var t=N(e.touches[0].clientX),n=te(s);i?0===L?t<=s[1]&&(n[0]=t):t>=s[0]&&(n[1]=t):n[0]=t,E(n)}}function z(e){A&&(e&&(e.preventDefault(),e.stopPropagation()),A=!1,L=null,document.removeEventListener("touchmove",P),document.removeEventListener("touchend",z),document.removeEventListener("touchcancel",z))}p.addEventListener("mousedown",(function(e){var t=N(e.clientX);if(i){var n=Math.abs(t-s[0]),o=Math.abs(t-s[1]);L=n<o?0:1}else L=0;A=!0,E(i?0===L?[t,s[1]]:[s[0],t]:[t]),T.on("mousemove",M),T.on("mouseup",O),e.preventDefault()})),p.addEventListener("touchstart",(function(e){e.preventDefault(),e.stopPropagation();var t=N(e.touches[0].clientX);if(i){var n=Math.abs(t-s[0]),o=Math.abs(t-s[1]);L=n<o?0:1}else L=0;A=!0,E([].concat(te(s.slice(0,L)),[t],te(s.slice(L+1)))),document.addEventListener("touchmove",P,{passive:!1}),document.addEventListener("touchend",z,{passive:!1}),document.addEventListener("touchcancel",z,{passive:!1})})),v.forEach((function(e,t){e.addEventListener("mousedown",(function(e){A=!0,L=t,T.on("mousemove",M),T.on("mouseup",O),e.stopPropagation(),e.preventDefault()})),e.addEventListener("touchstart",(function(e){e.preventDefault(),e.stopPropagation(),A=!0,L=t,document.addEventListener("touchmove",P,{passive:!1}),document.addEventListener("touchend",z,{passive:!1}),document.addEventListener("touchcancel",z,{passive:!1})}))})),r&&m.forEach((function(e,t){e.addEventListener("input",(function(){var e=parseFloat(this.value);if(!isNaN(e)){var a=te(s);i?0===t&&e<=s[1]?a[0]=e:1===t&&e>=s[0]&&(a[1]=e):a[0]=Math.max(n,Math.min(o,e)),E(a)}}))}));var j={element:S,isDouble:i,min:n,max:o,step:a,values:s,updateUI:function(e,t){return E(e,t)}};S._rangeData=j,_CSD_UTILS.prototype._originalVal||(_CSD_UTILS.prototype._originalVal=_CSD_UTILS.prototype.val,_CSD_UTILS.prototype.val=function(e){var t=this.elements[0];if(t&&t._rangeData){var n=function(e){return Math.round(e/c)*c};if(0===arguments.length)return this._originalVal();var o=this._originalVal(e),a=t._rangeData,i=a.isDouble,r=a.min,s=a.max,c=a.step,l=a.values,d=a.updateUI;if(i){var u=e.toString().split(","),f=te(l);if(1===u.length){var p=parseFloat(u[0]);if(!isNaN(p)){var h=n(Math.max(r,Math.min(s,p)));h<=f[1]&&(f[0]=h)}}else{var v=ee(u.map((function(e){var t=parseFloat(e);return isNaN(t)?r:n(Math.max(r,Math.min(s,t)))})),2),m=v[0],g=v[1];m<=g&&(f=[m,g])}d(f,!1)}else{var b=parseFloat(e);d([isNaN(b)?r:n(Math.max(r,Math.min(s,b)))],!1)}return o}return this._originalVal.apply(this,arguments)}),E()}function ie(e){if(e&&!e.initialized){var t=$CSD(e),n=t.find(".split-toggle"),o=t.find(".split-dropdown"),a=!1;n.on("click",(function(e){e.stopPropagation(),a?o.removeClass("show"):(o.addClass("show"),$CSD(".split-dropdown.show").not(o).removeClass("show")),a=!a})),$CSD(document).on("click",(function(e){t[0].contains(e.target)||(o.removeClass("show"),a=!1)})),e.initialized=!0}}function re(e){var t=$CSD(e),n=t.attr("maxlength"),o=t.attr("min-rows"),a=t.hasClass("csd-textarea-auto");if(n){var i=t.siblings(".csd-textarea-counter");t.on("input",(function(){var e=this.value.length;i.text("".concat(e,"/").concat(n))}))}if(o&&"undefined"!=typeof window){var r=parseInt(window.getComputedStyle(t.elements[0]).lineHeight)*o+parseInt(window.getComputedStyle(t.elements[0]).paddingTop)+parseInt(window.getComputedStyle(t.elements[0]).paddingBottom);t.css("min-height","".concat(r,"px"))}a&&(t.on("input",(function(){var e=t.elements[0];e.style.height="auto",e.style.height=e.scrollHeight+"px"})),t.trigger("input"))}function se(e){}function ce(e){if(e){var t=$CSD(e),n=t.find(".csd-modal-close"),o=t.find(".csd-modal-overlay");return n.on("click",a),o.on("click",a),e.csdModal={open:function(){t.show(),setTimeout((function(){t.addClass("show")}),50)},close:a},e.csdModal}function a(){t.removeClass("show"),setTimeout((function(){t.hide()}),300)}}function le(e){if(e){var t,n=$CSD(e),o=n.find(".csd-confirm-btn"),a=n.find(".csd-cancel-btn, .csd-modal-close"),i=n.find(".csd-modal-overlay");return o.on("click",(function(){return r(!0)})),a.on("click",(function(){return r(!1)})),i.on("click",(function(){return r(!1)})),e.csdConfirmDialog={open:function(){return n.show(),setTimeout((function(){n.addClass("show")}),50),new Promise((function(e){t=e}))},close:r},e.csdConfirmDialog}function r(e){n.removeClass("show"),setTimeout((function(){n.hide(),t&&(t(e),t=null)}),300)}}function de(){var e=$CSD("<div>").addClass("csd-toast-container");return $CSD("body").append(e),{show:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"info",o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:3e3,a=$CSD("<div>").addClass("csd-toast").addClass("csd-toast-".concat(n)).text(t);return e.append(a),setTimeout((function(){a.addClass("show")}),50),setTimeout((function(){a.removeClass("show"),setTimeout((function(){a.remove()}),300)}),o),a}}}function ue(e){if(e&&!e.initialized)return $CSD(e).find(".csd-item").each((function(t,n){var o=$CSD(n);o.on("click",(function(t){var a=new CustomEvent("csd-item-click",{detail:{text:o.find("span").text(),element:n}});e.dispatchEvent(a)}))})),e.initialized=!0,e}function fe(e){if(e&&!e.initialized){var t=$CSD(e),n=null,o=null;t.find(".csd-splitter").each((function(){this.initialized||fe(this)}));var a=t.find(".csd-split-panel"),i=t.find(".csd-split-gutter"),r=t.hasClass("horizontal");return a.each((function(){var e=$CSD(this);e.data("size")||e.data("size",50),s(e,e.data("size"))})),i.on("mousedown",(function(e){e.preventDefault(),n={$gutter:$CSD(this),$prevPanel:$CSD(this).prev(".csd-split-panel"),$nextPanel:$CSD(this).next(".csd-split-panel"),isHorizontal:r},r?e.clientX:e.clientY,o={prev:n.$prevPanel.data("size"),next:n.$nextPanel.data("size")},n.$gutter.addClass("dragging"),$CSD("body").css("cursor",r?"col-resize":"row-resize"),$CSD(document).on("mousemove",c),$CSD(document).on("mouseup",l)})),$CSD(window).on("resize.csd.splitter scroll.csd.splitter",(function(){t.find(".csd-split-panel").length&&t.find(".csd-split-panel").each((function(){s($CSD(this),$CSD(this).data("size"))}))})),e.initialized=!0,function(){i.off(".csd.splitter"),$CSD(document).off("mousemove").off("mouseup"),e.initialized=!1}}function s(e,t){e.data("size",t),e.css("flex","0 0 ".concat(t,"%"))}function c(e){if(n){var a=n,i=a.$prevPanel,r=a.$nextPanel,c=a.isHorizontal,l=t[0].getBoundingClientRect(),d=((c?e.clientX:e.clientY)-(c?l.left:l.top))/(c?l.width:l.height)*100,u=o.prev+o.next,f=d,p=u-d,h=10;f<h?(f=h,p=u-h):p<h&&(p=h,f=u-h),s(i,f),s(r,p),e.preventDefault()}}function l(e){n&&(n.$gutter.removeClass("dragging"),$CSD("body").css("cursor",""),$CSD(document).off("mousemove.csd.splitter").off("mouseup.csd.splitter"),n=null,o=null,e.preventDefault())}}function pe(e){if(e){var t,n,o=$CSD(e),a=$CSD(o.data("trigger")),i=o.data("placement")||"bottom",r=o.data("trigger-event")||"click",s=o.hasClass("csd-popover-confirm"),c=null;if(o.remove(),"hover"===r)a.on("mouseenter",(function(){clearTimeout(n),d()})),a.on("mouseleave",(function(e){var t=e.relatedTarget;c&&!c[0].contains(t)&&(n=setTimeout(u,100))}));else a.on("click",(function(e){if(e.stopPropagation(),s)return d(),new Promise((function(e){t=e}));c&&c.hasClass("show")?u():d()}));return $CSD(window).on("resize.csd.popover scroll.csd.popover",(function(){c&&c.hasClass("show")&&debounce((function(){return l(c)}),100)()})),e.csdPopover={show:d,hide:u,updatePosition:function(){return c&&l(c)}},e.csdPopover}function l(e){if(a.length&&e){var t,n,o=a[0].getBoundingClientRect(),r=e[0].getBoundingClientRect(),s=12;switch(i){case"top":t=o.top-r.height-s,n=o.left+o.width/2-r.width/2;break;case"bottom":t=o.bottom+0,n=o.left+o.width/2-r.width/2;break;case"left":t=o.top+o.height/2-r.height/2,n=o.left-r.width-s;break;case"right":t=o.top+o.height/2-r.height/2,n=o.right+s}"undefined"!=typeof window&&(t+=window.scrollY,n+=window.scrollX);var c="undefined"!=typeof window?window.innerWidth:1024,l="undefined"!=typeof window?window.innerHeight:768;n<s?n=s:n+r.width>c-s&&(n=c-r.width-s),t<s?t=s:t+r.height>l-s&&(t=l-r.height-s),e.css({top:"".concat(Math.round(t),"px"),left:"".concat(Math.round(n),"px")})}}function d(){$CSD(".csd-popover.show").remove();var e=(c&&c.remove(),c=o.clone(!0),$CSD("body").append(c),c);e.addClass("show"),requestAnimationFrame((function(){return l(e)})),function(e){var n=!1;function o(e){n||(n=!0,t&&(t(e),t=null),"undefined"!=typeof window&&window.toast&&window.toast.show(e?"Operazione confermata":"Operazione annullata",e?"success":"info"),u())}var i=function(t){if(s){var n=t.target.classList.contains("csd-popover-confirm-btn"),i=t.target.classList.contains("csd-popover-cancel-btn");if(n)return void o(!0);if(i)return void o(!1)}e[0].contains(t.target)||a[0].contains(t.target)||u()};s&&(e.find(".csd-popover-confirm-btn").on("click",(function(){return o(!0)})),e.find(".csd-popover-cancel-btn").on("click",(function(){return o(!1)})));document.addEventListener("mousedown",i),document.addEventListener("focusin",i);var r=function(){document.removeEventListener("mousedown",i),document.removeEventListener("focusin",i),e.off("hidden.csd.popover",r),s&&(e.find(".csd-popover-confirm-btn").off("click"),e.find(".csd-popover-cancel-btn").off("click"))};e.on("hidden.csd.popover",r)}(e)}function u(){c&&(c.trigger("hidden.csd.popover"),c.removeClass("show"),setTimeout((function(){c.off(),$CSD(document).off("mousedown.csd.popover"),$CSD(document).off("focusin.csd.popover"),$CSD(window).off("resize.csd.popover scroll.csd.popover"),c.remove(),c=null}),200),t&&(t(!1),t=null))}}function he(e){if(e){var t=$CSD(e),n=t.find(".csd-stepper");if(n.length){var o=n.find(".csd-step"),a=t.find(".csd-step-panel"),i=t.find(".prev-step"),r=t.find(".next-step"),s=n.hasClass("vertical");o.each((function(e,t){if(t<o.length-1){var a=$CSD("<div>").addClass("csd-step-progress").attr("data-step",t+1);n.append(a),d(a,t)}}));var c=1,l=o.length;o.each((function(e,t){var n=$CSD(e).find(".csd-step-indicator");n.length&&n.on("click",(function(){return f(t+1)}))})),i.length&&i.on("click",(function(){c>1&&f(c-1)})),r.length&&r.on("click",(function(){c<l&&f(c+1)})),$CSD(window).on("load",(function(){f(1),$CSD(window).on("resize",u)}))}}function d(e,t){var a=o.eq(t).find(".csd-step-indicator"),i=o.eq(t+1).find(".csd-step-indicator"),r=n[0].getBoundingClientRect();if(s){var c=a[0].getBoundingClientRect(),l=i[0].getBoundingClientRect();e.css({top:"".concat(c.bottom-r.top+6,"px"),height:"".concat(l.top-c.bottom-12,"px"),left:"".concat(c.left-r.left+c.width/2,"px")})}else{var d=a[0].getBoundingClientRect(),u=i[0].getBoundingClientRect();e.css({left:"".concat(d.right-r.left+12,"px"),width:"".concat(u.left-d.right-24,"px"),top:"".concat(d.top-r.top+d.height/2,"px")})}}function u(){var e=n.find(".csd-step.active");if(e.length){var t=e.index();n.find(".csd-step-progress").each((function(e,n){var o=$CSD(e);d(o,n),o.toggleClass("completed",n<t)}))}}function f(e){c=e,o.each((function(e,t){var n=$CSD(e);n.toggleClass("active",t+1===c),n.toggleClass("completed",t+1<c)})),a.each((function(t,n){$CSD(t).toggleClass("active",n+1===e)})),i.length&&i.prop("disabled",1===c),r.length&&r.prop("disabled",c===l),u()}}function ve(e){var t=$CSD(e),n=t.find(".csd-tab"),o=t.find(".csd-tab-panel"),a=t.find(".csd-tab-indicator"),i=t.find(".csd-tab-list");function r(e){if(e&&a.length){var t=e.getBoundingClientRect(),n=i[0].getBoundingClientRect(),o=t.left-n.left;requestAnimationFrame((function(){a.css("width","".concat(t.width,"px")).css("transform","translateX(".concat(o,"px)"))}))}}n.each((function(e){$CSD(e).on("click",(function(){var t=$CSD(e).index();!function(e,t){var a=$CSD(e);a.hasClass("active")||(n.removeClass("active"),a.addClass("active"),o.each((function(e,n){$CSD(e).toggleClass("active",n===t)})),r(e))}(e,t)}))}));var s=t.find(".csd-tab.active");s.length&&r(s[0]);var c,l,d,u=(c=function(){var e=t.find(".csd-tab.active");e.length&&r(e[0])},l=100,function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];clearTimeout(d),d=setTimeout((function(){clearTimeout(d),c.apply(void 0,t)}),l)});$CSD(window).on("resize",u)}function me(e,t){var n,o=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a=e.closest(".csd-accordion"),i=a.find(".csd-accordion-item"),r=i.filter(".open"),s={type:"csd_accordion_change",action:t,fromFunction:o,targetValue:e.attr("value"),isMultiple:a.hasClass("multiple"),totalItems:i.length,openItems:r.length,allOpen:i.length===r.length,allClosed:0===r.length,openValues:(n=[],r.each((function(){n.push($CSD(this).attr("value"))})),n)};a.trigger(s)}function ge(e){if(e){var t=$CSD(e);t.attr("data-csd-accordion-initialized")&&function(e){if(e){var t=$CSD(e);t.attr("data-csd-accordion-initialized")&&(t.find(".csd-accordion-header").each((function(){var e=$CSD(this),t=e.clone(!1,!0);t.find(".csd-accordion-icon").remove(),e.replaceWith(t)})),t.removeAttr("data-csd-accordion-initialized"))}}(e);var n=t.find(".csd-accordion-item"),o=t.hasClass("multiple");n.each((function(e){var t=$CSD(e).find(".csd-accordion-header"),a=$CSD('<ion-icon name="chevron-down-outline" class="csd-accordion-icon"></ion-icon>');t.length&&!t.prop("disabled")&&(t.append(a),t.on("click",(function(){var e=$CSD(this).closest(".csd-accordion-item");o||n.not(e).removeClass("open"),e.toggleClass("open"),me(e,e.hasClass("open")?"show":"hide")})))})),t.attr("data-csd-accordion-initialized","true")}}function be(e){try{if(!e||"string"!=typeof e&&"number"!=typeof e)throw new TypeError("Missing or invalid parameter type for showAccordion function");var t=$CSD(".csd-accordion-item[value]");if(0===t.length)throw new ReferenceError("No accordion items found with value attribute");var n=e.replace(/^['"](.+)['"]$/,"$1");if("show-all"===n){var o=t.filter((function(){return $CSD(this).closest(".csd-accordion").hasClass("multiple")}));if(0===o.length)throw new ReferenceError("show-all is not allowed for single-accordion");return o.addClass("open"),void me(o.first(),"show-all",!0)}if("hide-all"===n){var a=t.filter((function(){return $CSD(this).closest(".csd-accordion").hasClass("multiple")}));if(0===a.length)throw new ReferenceError("hide-all is not allowed for single-accordion");return a.removeClass("open"),void me(a.first(),"hide-all",!0)}var i=$CSD(".csd-accordion-item").filter('[value="'.concat(n,'"]'));if(0===i.length)throw new ReferenceError('No accordion item found with value "'.concat(n,'"'));i.closest(".csd-accordion").hasClass("multiple")||t.not(i).removeClass("open");var r=i.hasClass("open");i.toggleClass("open"),me(i,r?"hide":"show",!0)}catch(e){if(e instanceof TypeError||e instanceof ReferenceError||e instanceof SyntaxError)throw e;throw new Error("Accordion error: ".concat(e.message))}}function Ce(e){var t=$CSD(e),n=t.find(".csd-segment-button"),o=t.find(".csd-segment-indicator"),a=0;if("undefined"!=typeof window){var i=window.getComputedStyle(e);a=parseFloat(i.paddingLeft)}function r(n){if(n&&o.length){var i=e.getBoundingClientRect(),r=t.find(".csd-segment-button"),s=r.elements,c=s[0]===n,l=s[s.length-1]===n;r.removeClass("before-checked");var d=s.indexOf(n);!c&&d>0&&$CSD(s[d-1]).addClass("before-checked");for(var u=n.getBoundingClientRect().width,f=0,p=0;p<d;p++)f+=s[p].getBoundingClientRect().width;c?f=0:l?f=i.width-u-2*a:f+=a,requestAnimationFrame((function(){o[0].style.width="".concat(u,"px"),o[0].style.transform="translateX(".concat(f,"px)")}))}}function s(e){r(e),$CSD(e).find("ion-icon").length>0&&setTimeout((function(){r(e),setTimeout((function(){return r(e)}),300)}),50)}var c=t.find(".csd-segment-button.active");c.length&&s(c[0]),n.each((function(t){$CSD(t).on("click",(function(){$CSD(t).prop("disabled")||function(t){if(!$CSD(t).hasClass("active")){n.removeClass("active"),$CSD(t).addClass("active"),s(t);var o=$CSD(t).attr("content-id");if(o){var a,i=document.getElementById(o);i&&(null===(a=i.closest(".csd-segment-contents").querySelector(".csd-segment-content.active"))||void 0===a||a.classList.remove("active"),i.classList.add("active"))}e.dispatchEvent(new CustomEvent("segment-change",{detail:{value:$CSD(t).attr("value"),contentId:o}}))}}(t)}))}));var l,d,u,f=(l=function(){var e=t.find(".csd-segment-button.active");e.length&&s(e[0])},d=100,function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var o=function(){clearTimeout(u),l.apply(void 0,t)};clearTimeout(u),u=setTimeout(o,d)});"undefined"!=typeof window&&window.addEventListener("resize",f)}function ye(e){var t=$CSD(e),n=t.find(".csd-menu-item"),o=t.find(".has-submenu");n.on("click",(function(){var e=$CSD(this);e.hasClass("has-submenu")||(n.removeClass("active"),e.addClass("active"))})),o.on("click",(function(e){e.preventDefault(),$CSD(this).toggleClass("expanded")}))}function we(){var e=$CSD("#sidebarToggle"),t=$CSD(".csd-sidebar"),n=$CSD("#sidebarOverlay"),o=$CSD("#sidebarPosition"),a=t.length?t.closest(".demo-container"):null;if(t.length&&n.length&&e.length){if(o.length&&(o.prop("checked",!0),o.on("change",(function(){$CSD(this).prop("checked")?t.length&&a.length&&(t.removeClass("csd-sidebar-fixed"),a.append(t)):t.length&&a.length&&(t.addClass("csd-sidebar-fixed"),a.parent().append(t))}))),e.length&&t.length&&n.length){var i=e.find("ion-icon");e.on("click",(function(){t.hasClass("csd-sidebar-fixed")?(t.toggleClass("show"),n.toggleClass("active")):t.toggleClass("active");var e=t.hasClass("active")||t.hasClass("show");i.attr("name",e?"close-outline":"menu-outline")})),n.on("click",(function(){t.hasClass("csd-sidebar-fixed")?t.removeClass("show"):t.removeClass("active"),n.removeClass("active"),i.attr("name","menu-outline")}))}$CSD(".has-submenu").each((function(){var e=$CSD(this),t=e.find("a");t.length&&t.on("click",(function(t){t.preventDefault(),e.toggleClass("open")}))}))}}function Se(e){}function De(e){if(e){var t=$CSD(e),n=t.find(">  a");if(n.length)n.on("click",(function(e){e.preventDefault(),e.stopPropagation();var n=$CSD(this).closest(".has-submenu").parent();n.length&&n.find(".has-submenu.open").not(t).removeClass("open"),t.toggleClass("open")})),t.find(".csd-sidebar-submenu .csd-sidebar-item > a").on("click",(function(e){var t=$CSD(this).attr("href");t&&"#"!==t||e.preventDefault(),e.stopPropagation()}))}}$CSD(document).on("click",(function(e){$CSD(e.target).closest(".csd-dropdown").length||$CSD(".csd-dropdown-menu.show, .csd-mega-menu.show").each((function(){$CSD(this).removeClass("show").closest(".csd-dropdown").find(".csd-dropdown-toggle").removeClass("active")}))})),$CSD(document).on("click",(function(e){var t=$CSD(e.target),n=t.closest(".csd-dropdown-toggle");if(n.length){e.preventDefault();var o=n.closest(".csd-dropdown").find(".csd-dropdown-menu");o.hasClass("show")?(o.removeClass("show"),n.removeClass("active")):(M(),o.addClass("show"),n.addClass("active"))}else{var a=t.closest(".has-submenu > a");if(a.length){e.preventDefault();var i=a.parent();i.hasClass("open")?i.removeClass("open"):(i.parent().children().each((function(e,t){var n=$CSD(t);!n.is(i)&&n.hasClass("has-submenu")&&n.removeClass("open")})),i.addClass("open"))}else t.closest(".csd-dropdown").length||M()}}));_CSD_UTILS.prototype.val;const ke=function(){(0,a.$CSD)(".csd-searchbar-input:not(.csd-select-editable)").each((function(){K(this)})),(0,a.$CSD)(".csd-btn").each((function(){Z(this)})),(0,a.$CSD)(".csd-select").each((function(){j(this)})),(0,a.$CSD)(".csd-checkbox").each((function(){r(this)})),(0,a.$CSD)(".csd-radio").each((function(){d(this)})),(0,a.$CSD)('input[type="password"].csd-input').each((function(){Q(this)})),(0,a.$CSD)("input[data-mask].csd-input").each((function(){B(this)})),(0,a.$CSD)(".csd-number").each((function(){O(this)})),(0,a.$CSD)(".csd-textarea").each((function(){re(this)})),V(),(0,a.$CSD)(document).on("contentChanged",(function(){V()})),(0,a.$CSD)(".csd-range").each((function(){ae(this)})),(0,a.$CSD)(".csd-knob").each((function(){initializeKnob(this)})),(0,a.$CSD)(".csd-toggle").each((function(){G(this)})),(0,a.$CSD)(".csd-toggle-button").each((function(){X(this)})),(0,a.$CSD)(".csd-segment").each((function(){Ce(this)})),(0,a.$CSD)(".csd-tabs").each((function(){ve(this)})),(0,a.$CSD)(".csd-stepper-container").each((function(){he(this)})),(0,a.$CSD)(".csd-menubar").each((function(){ye(this)})),(0,a.$CSD)(".csd-mega-menu").each((function(){ye(this)})),(0,a.$CSD)(".csd-toolbar").each((function(){})),we(),(0,a.$CSD)(".csd-navigation").each((function(){})),(0,a.$CSD)(".csd-accordion").each((function(){ge(this)})),(0,a.$CSD)("[csdClick^='showAccordion']").on("click",(function(){var e=(0,a.$CSD)(this).attr("csdClick").replace("showAccordion(","").replace(")","");be.call(this,e)})),(0,a.$CSD)(".csd-dropdown").each((function(){N(this)})),(0,a.$CSD)(".csd-toast").each((function(){de()})),(0,a.$CSD)(".csd-modal").each((function(){ce(this)})),(0,a.$CSD)(".csd-modal-confirm").each((function(){le(this)})),(0,a.$CSD)(".csd-popover").each((function(){pe(this)})),(0,a.$CSD)(".csd-splitter").each((function(){fe(this)})),(0,a.$CSD)(".csd-fab").each((function(){k(this)})),(0,a.$CSD)(".csd-list").each((function(){ue(this)})),(0,a.$CSD)(".csd-reorder").each((function(){T()}));var e=de();function t(e){e.removeClass("show"),setTimeout((function(){e.remove()}),300)}"undefined"!=typeof window&&(window.toast=e),(0,a.$CSD)(".csd-split-button").each((function(){ie(this)})),(0,a.$CSD)(".csd-editor").each((function(){h(this)})),(0,a.$CSD)(".csd-toast-container").length||(0,a.$CSD)("body").append('<div class="csd-toast-container"></div>'),(0,a.$CSD)(document).on("click",".csd-btn-toast",(function(){var e=(0,a.$CSD)(this).data("type"),n=(0,a.$CSD)(this).data("message"),o=(0,a.$CSD)("<div>").addClass("csd-toast").addClass("csd-toast-".concat(e)).html('\n                <div class="csd-toast-content">\n                    <ion-icon name="'.concat(function(e){switch(e){case"success":return"checkmark-circle-outline";case"warning":return"warning-outline";case"error":return"alert-circle-outline";default:return"information-circle-outline"}}(e),'"></ion-icon>\n                    <span>').concat(n,'</span>\n                </div>\n                <button type="button" class="csd-toast-close">\n                    <ion-icon name="close-outline"></ion-icon>\n                </button>\n            '));(0,a.$CSD)(".csd-toast-container").append(o),setTimeout((function(){o.addClass("show")}),100);var i=setTimeout((function(){t(o)}),2500);o.find(".csd-toast-close").on("click",(function(){clearTimeout(i),t(o)}))})),(0,a.$CSD)(".csd-modal, .csd-modal-confirm").each((function(){ce(this)})),(0,a.$CSD)(document).on("click",".js-open-modal, .js-open-confirm",(function(e){e.preventDefault();var t=(0,a.$CSD)(this).data("target"),n=(0,a.$CSD)(t);n.length&&(n.show(),setTimeout((function(){n.addClass("show")}),50))})),(0,a.$CSD)(document).on("click",".csd-modal-close, .csd-modal-overlay",(function(e){e.preventDefault(),(0,a.$CSD)(this).closest(".csd-modal").removeClass("show")})),(0,a.$CSD)(document).on("click",".csd-confirm-btn",(function(e){e.preventDefault();var t=(0,a.$CSD)(this).closest(".csd-modal-confirm");t.length&&(t.removeClass("show"),setTimeout((function(){t.hide()}),300))})),(0,a.$CSD)(document).on("click",".csd-cancel-btn",(function(e){e.preventDefault();var t=(0,a.$CSD)(this).closest(".csd-modal-confirm");t.length&&(t.removeClass("show"),setTimeout((function(){t.hide()}),300))})),(0,a.$CSD)(".js-form-submit").on("click",(function(t){t.preventDefault();var n=(0,a.$CSD)(this).closest(".csd-modal"),o=n.find("form");if(o[0].checkValidity()){var i={};o.find(".csd-form-control").each((function(){var e=(0,a.$CSD)(this);i[e.attr("name")]=e.val()})),"undefined"!=typeof window&&window.toast?window.toast.show("Dati salvati con successo!","success"):e&&e.show("Dati salvati con successo!","success"),o[0].reset(),n.removeClass("show")}else o[0].reportValidity()})),(0,a.$CSD)(document).on("keydown",(function(e){if("Escape"===e.key){var t=(0,a.$CSD)(".csd-modal.show");t.length&&t.removeClass("show")}})),(0,a.$CSD)(document).on("click",'a[href="#"]',(function(e){var t=(0,a.$CSD)(this);t.closest(".has-submenu").length||t.closest(".csd-dropdown-menu").length||e.preventDefault()}))};function $e(e){return $e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$e(e)}function xe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function Ee(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=$e(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var o=n.call(e,t||"default");if("object"!=$e(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==$e(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}e=n.hmd(e);var Ae=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?xe(Object(n),!0).forEach((function(t){Ee(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):xe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({$CSD:a.$CSD,initCSDComponents:ke},o);"undefined"!=typeof window&&(window.$CSD=a.$CSD,window.initCSDComponents=ke,Object.keys(o).forEach((function(e){window[e]=o[e]})),window.csdBundle=Ae),e.exports?e.exports=Ae:"function"==typeof define&&n.amdO&&define((function(){return Ae}));const Le=a.$CSD},831:(e,t,n)=>{var o;function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function i(e,t,n){return(t=h(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function s(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var o,a,i,r,s=[],c=!0,l=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(o=i.call(n)).done)&&(s.push(o.value),s.length!==t);c=!0);}catch(e){l=!0,a=e}finally{try{if(!c&&null!=n.return&&(r=n.return(),Object(r)!==r))return}finally{if(l)throw a}}return s}}(e,t)||l(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function c(e){return function(e){if(Array.isArray(e))return d(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||l(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function l(e,t){if(e){if("string"==typeof e)return d(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?d(e,t):void 0}}function d(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=Array(t);n<t;n++)o[n]=e[n];return o}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,h(o.key),o)}}function p(e,t,n){return t&&f(e.prototype,t),n&&f(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function h(e){var t=function(e,t){if("object"!=r(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var o=n.call(e,t||"default");if("object"!=r(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==r(t)?t:t+""}var v,m=function(){function e(t){if(u(this,e),"string"==typeof t)try{if(t.trim().startsWith("<")&&t.trim().endsWith(">")){var n=document.createElement("div");n.innerHTML=t.trim(),this.elements=[n.firstElementChild]}else this.elements=Array.from(document.querySelectorAll(t))}catch(e){if(!(e instanceof DOMException&&"SyntaxError"===e.name))throw e;var o=document.createElement("div");o.innerHTML=t.trim(),this.elements=[o.firstElementChild]}else t instanceof Node?this.elements=[t]:t instanceof NodeList||Array.isArray(t)?this.elements=Array.from(t):this.elements=t instanceof e?t.elements:[];return new Proxy(this,{get:function(e,t){return"length"===t?e.elements.length:isNaN(t)?e[t]:e.elements[t]}})}return p(e,[{key:"_updateElements",value:function(){return this.elements=this.elements.map((function(t){return new e(t).elements[0]||null})).filter((function(e){return null!==e})),this}},{key:"addClass",value:function(e){return this.each((function(t){t.classList.add(e)}))._updateElements()}},{key:"removeClass",value:function(e){return this.each((function(t){t.classList.remove(e)}))._updateElements()}},{key:"toggleClass",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0;return this.each((function(n){void 0===t?n.classList.toggle(e):n.classList.toggle(e,t)}))._updateElements()}},{key:"attr",value:function(e,t){var n;return void 0===t?null===(n=this.elements[0])||void 0===n?void 0:n.getAttribute(e):this.each((function(n){n.setAttribute(e,t)}))._updateElements()}},{key:"removeAttr",value:function(e){return this.each((function(t){t.removeAttribute(e)}))._updateElements()}},{key:"prop",value:function(e,t){if(void 0===t){var n=this.elements[0];if(!n)return;return n[e],n[e]}return this.each((function(n){"checked"!==e&&"selected"!==e&&"disabled"!==e&&"readonly"!==e||(!0===t||"true"===t?n.setAttribute(e,""):n.removeAttribute(e)),n[e]=t,"readOnly"===e&&(!0===t||"true"===t?n.setAttribute("readonly",""):n.removeAttribute("readonly"))}))._updateElements()}},{key:"removeProp",value:function(e){return this.each((function(t){delete t[e]}))._updateElements()}},{key:"hasClass",value:function(e){var t;return(null===(t=this.elements[0])||void 0===t?void 0:t.classList.contains(e))||!1}},{key:"each",value:function(e){return this.elements.forEach((function(t,n){e.call(t,t,n)})),this}},{key:"add",value:function(e){var t=document.querySelectorAll(e);return this.elements=[].concat(c(this.elements),c(t)),this}},{key:"eq",value:function(t){return new e(this.elements[t])}},{key:"first",value:function(){return this.eq(0)}},{key:"last",value:function(){return this.eq(this.elements.length-1)}},{key:"get",value:function(e){return this.elements[e]}},{key:"index",value:function(){var e=this.elements[0];return e?Array.from(e.parentNode.children).indexOf(e):-1}},{key:"filter",value:function(t){return new e(this.elements.filter((function(e){if("function"==typeof t)return t.call(e,e);if(":visible"===t){if("undefined"!=typeof window){var n=window.getComputedStyle(e);return"none"!==n.display&&"hidden"!==n.visibility&&"0"!==n.opacity&&e.offsetWidth>0&&e.offsetHeight>0}return e.offsetWidth>0&&e.offsetHeight>0}if(":hidden"===t){if("undefined"!=typeof window){var o=window.getComputedStyle(e);return"none"===o.display||"hidden"===o.visibility||"0"===o.opacity||0===e.offsetWidth||0===e.offsetHeight}return 0===e.offsetWidth||0===e.offsetHeight}return t.includes("[")?t.match(/\[(.*?)\]/g).every((function(t){var n=s(t.slice(1,-1).split("="),2),o=n[0],a=n[1];if(a){var i=a.replace(/['"]/g,"");return e.getAttribute(o)===i}return e.hasAttribute(o)})):e.matches(t)})))}},{key:"map",value:function(e){return this.elements.map(e)}},{key:"slice",value:function(t,n){return new e(this.elements.slice(t,n))}},{key:"css",value:function(e,t){if("object"===r(e))return this.each((function(t){Object.assign(t.style,e)}));if(void 0===t){var n=this.elements[0];return n?"undefined"!=typeof window?window.getComputedStyle(n)[e]||"":n.style[e]||"":""}return this.each((function(n){n.style[e]=t}))}},{key:"data",value:function(e,t){var n=e.startsWith("data-")?e:"data-".concat(e);if(void 0!==t)return this.each((function(e){if(null===t)e.removeAttribute(n);else{var o="object"===r(t)?JSON.stringify(t):t;e.setAttribute(n,o)}}));var o=this.elements[0];if(o){var a=o.getAttribute(n);if(a)try{return"true"===a.toLowerCase()||"false"!==a.toLowerCase()&&(isNaN(a)?JSON.parse(a):Number(a))}catch(e){return a}}}},{key:"outerWidth",value:function(){var e;return(null===(e=this.elements[0])||void 0===e?void 0:e.offsetWidth)||0}},{key:"outerHeight",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=this.elements[0];if(!t)return 0;var n=t.offsetHeight;if(e){var o=window.getComputedStyle(t);n+=parseFloat(o.marginTop)+parseFloat(o.marginBottom)}return n}},{key:"height",value:function(){var e;return null===(e=this.elements[0])||void 0===e?void 0:e.offsetHeight}},{key:"width",value:function(){var e;return null===(e=this.elements[0])||void 0===e?void 0:e.offsetWidth}},{key:"innerHeight",value:function(){var e;return null===(e=this.elements[0])||void 0===e?void 0:e.clientHeight}},{key:"innerWidth",value:function(){var e;return null===(e=this.elements[0])||void 0===e?void 0:e.clientWidth}},{key:"show",value:function(){return this.each((function(e){e.style.display=""}))._updateElements()}},{key:"hide",value:function(){return this.each((function(e){e.style.display="none"}))._updateElements()}},{key:"toggle",value:function(e){return this.each((function(t){var n="none"===window.getComputedStyle(t).display;t.style.display=void 0===e?n?"":"none":e?"":"none"}))._updateElements()}},{key:"on",value:function(e,t,n){if("string"==typeof t){var o=t;return this.each((function(t){var a=function(e){for(var a=t.querySelectorAll(o),i=!1,r=e.target;r&&r!==t;){if(Array.from(a).includes(r)){i=!0;break}r=r.parentElement}i&&n.call(r,e)};t._eventHandlers||(t._eventHandlers={}),t._eventHandlers[e]||(t._eventHandlers[e]=[]),t._eventHandlers[e].push({selector:o,handler:a,callback:n}),t.addEventListener(e,a)}))._updateElements()}var a=t;return this.each((function(t){t._eventHandlers||(t._eventHandlers={}),t._eventHandlers[e]||(t._eventHandlers[e]=[]),t._eventHandlers[e].push({handler:a,callback:a}),t.addEventListener(e,a)}))._updateElements()}},{key:"off",value:function(e,t){return this.each((function(n){n._eventHandlers&&n._eventHandlers[e]&&(n._eventHandlers[e].forEach((function(o){t&&o.callback!==t||n.removeEventListener(e,o.handler||o.callback)})),t?n._eventHandlers[e]=n._eventHandlers[e].filter((function(e){return e.callback!==t})):delete n._eventHandlers[e])}))._updateElements()}},{key:"one",value:function(e,t){return this.each((function(n){var o=function(a){t(a),n.removeEventListener(e,o)};n.addEventListener(e,o)}))._updateElements()}},{key:"trigger",value:function(e){if("string"==typeof e){var t=new Event(e);return this.each((function(e){e.dispatchEvent(t)}))._updateElements()}var n=new CustomEvent(e.type,{detail:e,bubbles:!0,cancelable:!0});return this.each((function(e){e.dispatchEvent(n)}))._updateElements()}},{key:"click",value:function(e){return e?this.on("click",(function(t){e.call(this,t)}))._updateElements():this.each((function(e){e.click()}))._updateElements()}},{key:"hover",value:function(e,t){return this.on("mouseenter",(function(t){e&&e.call(this,t)})).on("mouseleave",(function(e){t&&t.call(this,e)}))._updateElements()}},{key:"ready",value:function(e){return"loading"!==document.readyState?e():document.addEventListener("DOMContentLoaded",e),this}},{key:"focus",value:function(e){return void 0===e?(this.elements[0]&&this.elements[0].focus(),this):this.on("focus",e)}},{key:"blur",value:function(e){return void 0===e?(this.elements[0]&&this.elements[0].blur(),this):this.on("blur",e)}},{key:"val",value:function(e){if(void 0===e){var t=this.elements[0];if(!t)return;if("select-multiple"===t.type){var n=Array.from(t.selectedOptions).map((function(e){return e.value})).filter((function(e){return""!==e}));return n}return t.value}return this.each((function(t){"select-multiple"===t.type&&Array.isArray(e)?Array.from(t.options).forEach((function(t){t.selected=e.includes(t.value)})):t.value=e}))._updateElements()}},{key:"serialize",value:function(){if(!this.elements[0]||"FORM"!==this.elements[0].nodeName)return"";var e=new FormData(this.elements[0]);return new URLSearchParams(e).toString()}},{key:"html",value:function(e){var t;return void 0===e?null===(t=this.elements[0])||void 0===t?void 0:t.innerHTML:this.each((function(t){t.innerHTML=e}))._updateElements()}},{key:"text",value:function(e){var t;return void 0===e?null===(t=this.elements[0])||void 0===t?void 0:t.textContent:this.each((function(t){t.textContent=e}))._updateElements()}},{key:"append",value:function(t){if(!t)return this;var n=function(e,t){if("string"==typeof t)return e.insertAdjacentHTML("beforeend",t),e.lastElementChild;if(t instanceof Node){var n=t.cloneNode(!0);return e.appendChild(n),n}return null},o=[];return this.each((function(a){if(t instanceof e)t.each((function(e){var t=n(a,e);t&&o.push(t)}));else{var i=n(a,t);i&&o.push(i)}})),t instanceof e&&(t.elements=o),this._updateElements()}},{key:"prepend",value:function(t){if(!t)return this;var n=[];return this.each((function(o){if("string"==typeof t)o.insertAdjacentHTML("afterbegin",t),n.push(o.firstElementChild);else if(t instanceof e)t.each((function(e){var t=e.cloneNode(!0);o.prepend(t),n.push(t)}));else if(t instanceof Node){var a=t.cloneNode(!0);o.prepend(a),n.push(a)}})),t instanceof e&&(t.elements=n),this._updateElements()}},{key:"before",value:function(t){if(!t)return this;var n=[];return this.each((function(o){if("string"==typeof t)o.insertAdjacentHTML("beforebegin",t),n.push(o.previousElementSibling);else if(t instanceof e)t.each((function(e){var t=e.cloneNode(!0);o.before(t),n.push(t)}));else if(t instanceof Node){var a=t.cloneNode(!0);o.before(a),n.push(a)}})),t instanceof e&&(t.elements=n),this._updateElements()}},{key:"after",value:function(t){if(!t)return this;var n=[];return this.each((function(o){if("string"==typeof t)o.insertAdjacentHTML("afterend",t),n.push(o.nextElementSibling);else if(t instanceof e)t.each((function(e){var t=e.cloneNode(!0);o.after(t),n.push(t)}));else if(t instanceof Node){var a=t.cloneNode(!0);o.after(a),n.push(a)}})),t instanceof e&&(t.elements=n),this._updateElements()}},{key:"empty",value:function(){return this.each((function(e){e.innerHTML=""}))._updateElements()}},{key:"remove",value:function(){return this.each((function(e){e.remove()})),this._updateElements()}},{key:"clone",value:function(){return new e(this.elements.map((function(e){return e.cloneNode(!0)})))}},{key:"wrap",value:function(t){return this.each((function(n){var o,a=document.createElement("div");t instanceof e?a.innerHTML=(null===(o=t.elements[0])||void 0===o?void 0:o.outerHTML)||"":a.innerHTML=t;var i=a.firstElementChild;i&&(n.parentNode.insertBefore(i,n),i.appendChild(n))}))._updateElements()}},{key:"unwrap",value:function(){return this.each((function(e){var t=e.parentNode;t&&"BODY"!==t.nodeName&&t.replaceWith.apply(t,c(t.childNodes))}))._updateElements()}},{key:"wrapInner",value:function(e){return this.each((function(t){var n=document.createElement("div");for(n.innerHTML=e;t.firstChild;)n.firstElementChild.appendChild(t.firstChild);t.appendChild(n.firstElementChild)}))._updateElements()}},{key:"wrapAll",value:function(e){if(0===this.elements.length)return this;var t=document.createElement("div");t.innerHTML=e;var n=t.firstElementChild;return this.elements[0].parentNode.insertBefore(n,this.elements[0]),this.each((function(e){n.appendChild(e)})),this._updateElements()}},{key:"scrollTop",value:function(e){return this.elements[0]===window?void 0===e?window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0:(window.scrollTo({top:e,behavior:"smooth"}),this):void 0===e?(null===(t=this.elements[0])||void 0===t?void 0:t.scrollTop)||0:this.each((function(t){t.scrollTop=e}))._updateElements();var t}},{key:"offset",value:function(){if(this.elements[0]){var e=this.elements[0].getBoundingClientRect();return"undefined"!=typeof window?{top:e.top+window.scrollY,left:e.left+window.scrollX}:{top:e.top,left:e.left}}}},{key:"position",value:function(){if(this.elements[0])return{top:this.elements[0].offsetTop,left:this.elements[0].offsetLeft}}},{key:"offsetParent",value:function(){var t;return new e(null===(t=this.elements[0])||void 0===t?void 0:t.offsetParent)}},{key:"children",value:function(){var t;return new e(null===(t=this.elements[0])||void 0===t?void 0:t.children)}},{key:"parent",value:function(){var t;return new e(null===(t=this.elements[0])||void 0===t?void 0:t.parentNode)}},{key:"parents",value:function(){for(var t,n=[],o=null===(t=this.elements[0])||void 0===t?void 0:t.parentNode;o&&"HTML"!==o.nodeName;)n.push(o),o=o.parentNode;return new e(n)}},{key:"parentsUntil",value:function(t){for(var n,o=[],a=null===(n=this.elements[0])||void 0===n?void 0:n.parentNode;a&&!a.matches(t);)o.push(a),a=a.parentNode;return new e(o)}},{key:"closest",value:function(t){var n=this.elements[0];if(!n)return new e([]);var o=n.closest(t);return new e(o?[o]:[])}},{key:"contents",value:function(){var t;return new e(null===(t=this.elements[0])||void 0===t?void 0:t.childNodes)}},{key:"find",value:function(t){var n;if(":visible"===t){var o,a=null===(o=this.elements[0])||void 0===o?void 0:o.querySelectorAll("*");return new e(a?Array.from(a).filter((function(e){if("undefined"!=typeof window){var t=window.getComputedStyle(e);return"none"!==t.display&&"hidden"!==t.visibility&&"0"!==t.opacity&&e.offsetWidth>0&&e.offsetHeight>0}return e.offsetWidth>0&&e.offsetHeight>0})):[])}if(":hidden"===t){var i,r=null===(i=this.elements[0])||void 0===i?void 0:i.querySelectorAll("*");return new e(r?Array.from(r).filter((function(e){if("undefined"!=typeof window){var t=window.getComputedStyle(e);return"none"===t.display||"hidden"===t.visibility||"0"===t.opacity||0===e.offsetWidth||0===e.offsetHeight}return 0===e.offsetWidth||0===e.offsetHeight})):[])}if(":selected"===t)return new e(this.elements.reduce((function(e,t){var n=t.querySelectorAll("option").length>0?Array.from(t.querySelectorAll("option")).filter((function(e){return e.selected})):[];return[].concat(c(e),c(n))}),[]));if(t.includes(":visible")||t.includes(":hidden")||t.includes(":selected")||t.includes(":checked")){var s,l=t.replace(/:visible|:hidden|:selected/g,""),d=t.includes(":visible"),u=t.includes(":hidden"),f=t.includes(":selected"),p=null===(s=this.elements[0])||void 0===s?void 0:s.querySelectorAll(l);return new e(p?Array.from(p).filter((function(e){if(f&&"option"===e.tagName.toLowerCase())return e.selected;var t=window.getComputedStyle(e),n="none"!==t.display&&"hidden"!==t.visibility&&"0"!==t.opacity&&e.offsetWidth>0&&e.offsetHeight>0;return d?n:!u||!n})):[])}return new e(null===(n=this.elements[0])||void 0===n?void 0:n.querySelectorAll(t))}},{key:"siblings",value:function(){var t,n=this,o=Array.from((null===(t=this.elements[0])||void 0===t||null===(t=t.parentNode)||void 0===t?void 0:t.children)||[]).filter((function(e){return e!==n.elements[0]}));return new e(o)}},{key:"next",value:function(){var t;return new e(null===(t=this.elements[0])||void 0===t?void 0:t.nextElementSibling)}},{key:"prev",value:function(){var t;return new e(null===(t=this.elements[0])||void 0===t?void 0:t.previousElementSibling)}},{key:"nextAll",value:function(){for(var t,n=[],o=null===(t=this.elements[0])||void 0===t?void 0:t.nextElementSibling;o;)n.push(o),o=o.nextElementSibling;return new e(n)}},{key:"prevAll",value:function(){for(var t,n=[],o=null===(t=this.elements[0])||void 0===t?void 0:t.previousElementSibling;o;)n.push(o),o=o.previousElementSibling;return new e(n)}},{key:"nextUntil",value:function(t){for(var n,o=[],a=null===(n=this.elements[0])||void 0===n?void 0:n.nextElementSibling;a&&!a.matches(t);)o.push(a),a=a.nextElementSibling;return new e(o)}},{key:"prevUntil",value:function(t){for(var n,o=[],a=null===(n=this.elements[0])||void 0===n?void 0:n.previousElementSibling;a&&!a.matches(t);)o.push(a),a=a.previousElementSibling;return new e(o)}},{key:"is",value:function(t){if(!this.elements[0]||!t)return!1;if("function"==typeof t)return this.elements.some((function(e,n){return t.call(e,n,e)}));if(t instanceof e)return this.elements.some((function(e){return t.elements.includes(e)}));if(t.nodeType)return this.elements.includes(t);if(":visible"===t||":hidden"===t){return this.elements.some((function(e){if(!e)return!1;if("undefined"!=typeof window){var n=window.getComputedStyle(e),o="none"!==n.display&&"hidden"!==n.visibility&&"0"!==n.opacity&&e.offsetWidth>0&&e.offsetHeight>0;return":visible"===t?o:!o}var a=e.offsetWidth>0&&e.offsetHeight>0;return":visible"===t?a:!a}))}try{if("string"==typeof t){var n=Array.from(document.querySelectorAll(t));return this.elements.some((function(e){return n.includes(e)}))}}catch(e){}return!1}},{key:"not",value:function(t){if(t instanceof e){var n=t.elements;return new e(this.elements.filter((function(e){return!n.includes(e)})))}if(t instanceof Node)return new e(this.elements.filter((function(e){return e!==t})));if("string"==typeof t)try{return new e(this.elements.filter((function(e){return!(e instanceof Element)||!e.matches(t)})))}catch(e){return this}return this}},{key:"has",value:function(t){return new e(this.elements.some((function(e){return e.querySelector(t)}))?this.elements:[])}},{key:"replaceWith",value:function(t){var n;return this.each((function(o){var a;if(t instanceof e)a=t.elements[0],o.replaceWith(a);else if(t instanceof Node)a=t.cloneNode(!0),o.replaceWith(a);else if("string"==typeof t){var i=document.createElement("div");i.innerHTML=t.trim(),a=i.firstElementChild,o.replaceWith(a)}n=a})),new e(n)._updateElements()}}],[{key:"extend",value:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),o=1;o<t;o++)n[o-1]=arguments[o];return Object.assign.apply(Object,[e].concat(n))}},{key:"each",value:function(e,t){if(e)return e instanceof NodeList||Array.isArray(e)||e instanceof Array||e instanceof NamedNodeMap?Array.from(e).forEach((function(e,n){t.call(e,n)})):t.call(e,0),this}}])}(),g=function(){return p((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};u(this,e),this.element=t,this.options=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({handle:".handle",draggable:".csd-reorder",ghostClass:"csd-reorder-ghost",dragClass:"csd-reorder-drag",onStart:null,onEnd:null},n),this.dragItem=null,this.startY=0,this.currentY=0,this.initialY=0,this.touchStartTime=0,this.init()}),[{key:"init",value:function(){var e=this;this.element.querySelectorAll(this.options.draggable).forEach((function(t){t.draggable=!0;var n=t.querySelector(e.options.handle);n&&(n.addEventListener("mousedown",(function(){t.draggable=!0})),n.addEventListener("mouseup",(function(){t.draggable=!1})),n.addEventListener("touchstart",(function(n){return e.handleTouchStart(n,t)})),n.addEventListener("touchmove",(function(t){return e.handleTouchMove(t)})),n.addEventListener("touchend",(function(t){return e.handleTouchEnd(t)}))),t.addEventListener("dragstart",(function(n){return e.handleDragStart(n,t)})),t.addEventListener("dragend",(function(n){return e.handleDragEnd(n,t)}))})),this.element.addEventListener("dragover",(function(t){return e.handleDragOver(t)})),this.element.addEventListener("dragenter",(function(e){return e.preventDefault()}))}},{key:"handleTouchStart",value:function(e,t){e.preventDefault(),this.touchStartTime=Date.now(),this.dragItem=t;var n=e.touches[0];this.startY=n.clientY,this.initialY=this.dragItem.offsetTop}},{key:"handleTouchMove",value:function(e){if(this.dragItem){e.preventDefault();var t=e.touches[0];this.currentY=t.clientY;var n=this.currentY-this.startY;if(Date.now()-this.touchStartTime>150){this.dragItem.classList.add(this.options.dragClass),this.element.classList.add("is-dragging"),this.dragItem.style.transform="translateY(".concat(n,"px)");var o=c(this.element.querySelectorAll("".concat(this.options.draggable,":not(.").concat(this.options.dragClass,")"))).find((function(e){var n=e.getBoundingClientRect(),o=n.top+n.height/2;return t.clientY<=o}));o?this.element.insertBefore(this.dragItem,o):this.element.appendChild(this.dragItem)}}}},{key:"handleTouchEnd",value:function(e){if(this.dragItem){if(e.preventDefault(),this.dragItem.classList.remove(this.options.dragClass),this.element.classList.remove("is-dragging"),this.dragItem.style.transform="",this.options.onEnd){var t=Array.from(this.element.children).indexOf(this.dragItem);this.options.onEnd({item:this.dragItem,from:this.startIndex,to:t})}this.dragItem=null,this.startY=0,this.currentY=0,this.initialY=0,this.touchStartTime=0}}},{key:"handleDragStart",value:function(e,t){var n=this;e.dataTransfer.effectAllowed="move",this.startIndex=Array.from(this.element.children).indexOf(t),setTimeout((function(){t.classList.add(n.options.dragClass),n.element.classList.add("is-dragging")}),0),this.options.onStart&&this.options.onStart({item:t,index:this.startIndex})}},{key:"handleDragOver",value:function(e){e.preventDefault(),e.dataTransfer.dropEffect="move";var t=this.element.querySelector("."+this.options.dragClass);if(t){var n=c(this.element.querySelectorAll("".concat(this.options.draggable,":not(.").concat(this.options.dragClass,")"))).find((function(t){var n=t.getBoundingClientRect(),o=n.top+n.height/2;return e.clientY<=o}));n?this.element.insertBefore(t,n):this.element.appendChild(t)}}},{key:"handleDragEnd",value:function(e,t){t.classList.remove(this.options.dragClass),this.element.classList.remove("is-dragging");var n=Array.from(this.element.children).indexOf(t);this.options.onEnd&&this.options.onEnd({item:t,from:this.startIndex,to:n}),t.draggable=!1}},{key:"destroy",value:function(){var e=this;this.element.querySelectorAll(this.options.draggable).forEach((function(t){t.draggable=!1,t.removeEventListener("dragstart",e.handleDragStart),t.removeEventListener("dragend",e.handleDragEnd);var n=t.querySelector(e.options.handle);n&&(n.removeEventListener("mousedown",null),n.removeEventListener("mouseup",null),n.removeEventListener("touchstart",null),n.removeEventListener("touchmove",null),n.removeEventListener("touchend",null))})),this.element.removeEventListener("dragover",this.handleDragOver),this.element.removeEventListener("dragenter",null)}}])}(),b=((v=function(e){return new m(e)}).ready=function(e){"loading"!==document.readyState?e():document.addEventListener("DOMContentLoaded",e)},v);"undefined"!=typeof window&&(window.$CSD=b,window._CSD_UTILS=m,window.Sortable=g),b.extend=m.extend,b.each=m.each,e.exports?e.exports={$CSD:b,_CSD_UTILS:m,Sortable:g}:void 0===(o=function(){return{$CSD:b,_CSD_UTILS:m,Sortable:g}}.call(t,n,t,e))||(e.exports=o)}},t={};function n(o){var a=t[o];if(void 0!==a)return a.exports;var i=t[o]={id:o,loaded:!1,exports:{}};return e[o](i,i.exports,n),i.loaded=!0,i.exports}n.amdO={},n.d=(e,t)=>{for(var o in t)n.o(t,o)&&!n.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})},n.hmd=e=>((e=Object.create(e)).children||(e.children=[]),Object.defineProperty(e,"exports",{enumerable:!0,set:()=>{throw new Error("ES Modules may not assign module.exports or exports.*, Use ESM export syntax, instead: "+e.id)}}),e),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var o=n(529);return o=o.default})()));